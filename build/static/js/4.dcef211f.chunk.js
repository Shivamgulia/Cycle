(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{69:function(e,c,r){e.exports={form:"ProfileForm_form__2xGgc",control:"ProfileForm_control__2YUZH",action:"ProfileForm_action__opJ_6"}},70:function(e,c,r){e.exports={profile:"UserProfile_profile__gQOnH",action:"UserProfile_action__8zxDu"}},75:function(e,c,r){"use strict";r.r(c);var t=r(2),n=r(1),s=r(5),o=r(7),a=r(69),i=r.n(a),l=r(0),d=function(e){var c=Object(o.g)(),r=Object(n.useRef)();return Object(l.jsxs)("form",{className:i.a.form,onSubmit:function(t){t.preventDefault();var n=r.current.value;fetch("".concat("https://app.hbtu.ac.in","/users/password/").concat(e.userid),{method:"PATCH",body:JSON.stringify({password:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}}).then((function(e){c.replace("/")}))},children:[Object(l.jsxs)("div",{className:i.a.control,children:[Object(l.jsx)("label",{htmlFor:"new-password",children:"New Password"}),Object(l.jsx)("input",{type:"password",id:"new-password",ref:r})]}),Object(l.jsx)("div",{className:i.a.action,children:Object(l.jsx)("button",{children:"Change Password"})})]})},u=function(e){var c=Object(n.useState)(!1),r=Object(t.a)(c,2),s=r[0],o=r[1];Object(n.useEffect)((function(){"guard"!==e.user.role&&"admin"!==e.user.role||o(!0)}),[e.user.role]);var a=e.user.cycleid?e.user.cycleid:"No Cycle Rented Yet";return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{className:"centered",children:["Name : ",e.user.name]}),!s&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h4",{className:"centered",children:["Roll No.: ",e.user.rollno]}),Object(l.jsxs)("h4",{className:"centered",children:["Branch : ",e.user.branch]}),Object(l.jsxs)("h4",{className:"centered",children:["Cycle Id : ",a]})]})]})},j=r(70),b=r.n(j),h=function(){var e=Object(n.useContext)(s.b),c=Object(n.useState)(!1),r=Object(t.a)(c,2),o=r[0],a=r[1],i={name:e.name,branch:e.branch,rollno:e.rollno,cycleid:e.cycleid?e.cycleid:"",role:e.role};return Object(l.jsxs)("section",{className:b.a.profile,children:["student"===e.role&&Object(l.jsx)("h1",{children:"User Profile"}),"guard"===e.role&&Object(l.jsx)("h1",{children:"Guard Profile"}),"admin"===e.role&&Object(l.jsx)("h1",{children:"Admin Profile"}),Object(l.jsx)(u,{user:i}),o&&Object(l.jsx)(d,{token:localStorage.getItem("token"),userid:e.userid}),Object(l.jsx)("div",{className:b.a.action,children:Object(l.jsx)("button",{onClick:function(){o&&a(!1),o||a(!0)},children:o?"Cancel":"Change Password"})})]})};c.default=function(){return Object(l.jsx)(h,{})}}}]);
//# sourceMappingURL=4.dcef211f.chunk.js.map