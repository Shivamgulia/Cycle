(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,function(e,t,n){e.exports={auth:"AddStudentForm_auth__TS3h4",control:"AddStudentForm_control__1gHrQ",actions:"AddStudentForm_actions__3i30V",toggle:"AddStudentForm_toggle__3pMps"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c,a=n(2),r=n(1),s=n.n(r),o=n(31),i=n.n(o),l=n(23),d=n(0),u=s.a.createContext({token:"",isLoggedIn:!1,userid:"",email:"",password:"",role:"",cycleid:"",data:{},name:"",login:function(e,t,n,c,a,r,s){},logout:function(){},addCycle:function(){}}),j=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},b=function(e){var t,n,s,o,b,O,m,h,x,p,g=function(){var e=localStorage.getItem("password");if(null!==e&&""!==e&&void 0!==e)try{e=Object(l.a)(localStorage.getItem("password")).value}catch(O){}var t=localStorage.getItem("token"),n=localStorage.getItem("expirationTime"),c=localStorage.getItem("userid"),a=localStorage.getItem("role"),r=localStorage.getItem("email"),s=localStorage.getItem("cycleid"),o=localStorage.getItem("data"),i=localStorage.getItem("name"),d=localStorage.getItem("branch"),u=localStorage.getItem("rollno"),b=j(n);return b<=360?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userid"),localStorage.removeItem("role"),localStorage.removeItem("cycleid"),localStorage.removeItem("data"),localStorage.removeItem("name"),localStorage.removeItem("password"),localStorage.removeItem("email"),localStorage.removeItem("branch"),localStorage.removeItem("rollno"),null):{token:t,userid:c,role:a,cycleid:s,data:o,name:i,branch:d,password:e,email:r,rollno:u,duration:b}}();g&&(b=g.data,t=g.token,n=g.userid,s=g.role,o=g.cycleid,p=g.password,x=g.email,O=g.name,m=g.branch,h=g.rollno);var f=Object(r.useState)(b),v=Object(a.a)(f,2),S=v[0],y=v[1],N=Object(r.useState)(n),k=Object(a.a)(N,2),C=k[0],w=k[1],_=Object(r.useState)(s),I=Object(a.a)(_,2),A=I[0],E=I[1],R=Object(r.useState)(t),T=Object(a.a)(R,2),D=T[0],q=T[1],F=Object(r.useState)(o),L=Object(a.a)(F,2),P=L[0],B=L[1],z=Object(r.useState)(p),G=Object(a.a)(z,2),M=G[0],J=G[1],U=Object(r.useState)(x),K=Object(a.a)(U,2),H=K[0],Q=K[1],V=Object(r.useState)(O),X=Object(a.a)(V,2),Y=X[0],W=X[1],Z=Object(r.useState)(m),$=Object(a.a)(Z,2),ee=$[0],te=$[1],ne=Object(r.useState)(h),ce=Object(a.a)(ne,2),ae=ce[0],re=ce[1],se=!!D,oe=Object(r.useCallback)((function(){q(null),w(null),E(null),B(null),y(null),W(null),te(null),J(null),Q(null),re(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userid"),localStorage.removeItem("role"),localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.removeItem("cycleid"),localStorage.removeItem("data"),localStorage.removeItem("name"),localStorage.removeItem("branch"),localStorage.removeItem("rollno"),localStorage.setItem("userIsLoggedIn",!1),c&&clearTimeout(c)}),[]);Object(r.useEffect)((function(){g&&(c=setTimeout(oe,g.duration))}),[g,oe]);var ie={data:S,token:D,isLoggedIn:se,userid:C,role:A,cycleid:P,email:H,password:M,name:Y,branch:ee,rollno:ae,login:function(e,t,n,a,r,s,o){var l=j(o),d=i()({value:t},"screte sauce");y(e),q(n),E(r),w(a),Q(e.email),W(e.name),J(t),te(e.branch),re(e.rollno),B(s),localStorage.setItem("token",n),localStorage.setItem("role",r),localStorage.setItem("userid",a),localStorage.setItem("cycleid",s),localStorage.setItem("name",e.name),localStorage.setItem("branch",e.branch),localStorage.setItem("password",d),localStorage.setItem("email",e.email),localStorage.setItem("rollno",e.rollno),localStorage.setItem("userIsLoggedIn",!0),localStorage.setItem("expirationTime",o),localStorage.setItem("data",JSON.stringify(e)),c=setTimeout(oe,l)},logout:oe,addCycle:function(e){localStorage.setItem("cycleid",e),B(e),console.log(e+" incycle"+P)}};return Object(d.jsx)(u.Provider,{value:ie,children:e.children})};t.b=u},,function(e,t,n){"use strict";var c=n(32),a=n.n(c),r=n(0);t.a=function(){return Object(r.jsx)("div",{className:a.a.spinner})}},,,,function(e,t,n){"use strict";var c=n(45),a=n(16),r=n(2),s=n(9),o=n.n(s),i=n(1);function l(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:e}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.useReducer)(l,{status:t?"pending":null,data:null,error:null}),s=Object(r.a)(n,2),d=s[0],u=s[1],j=Object(i.useCallback)(function(){var t=Object(a.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,u({type:"SUCCESS",responseData:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),u({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(c.a)({sendRequest:j},d)}},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return x}));var c=n(16),a=n(9),r=n.n(a),s="https://app.hbtu.ac.in";function o(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(r.a.mark((function e(t){var n,c,a,o,i,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/cycles/").concat(t.cycleid),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,a=c.stdid,n.ok){e.next=9;break}throw new Error(c.message||"Could not Rent Cycle");case 9:if("student"!==t.role||"rented"!==c.status){e.next=11;break}throw new Error("Cycle already Rented");case 11:if("guard"!==t.role||""!==c.status){e.next=13;break}throw new Error("Cycle not Rented Yet");case 13:return"student"===t.role&&(o=t.cycleid),"guard"===t.role&&(o=""),"student"===t.role&&(a=t.userid),e.next=18,fetch("".concat(s,"/users/").concat(a),{method:"PATCH",body:JSON.stringify({cycleid:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 18:return n=e.sent,e.next=21,n.json();case 21:if(c=e.sent,n.ok){e.next=24;break}throw new Error(c.message||"Could not Rent Cycle.");case 24:return"student"===t.role&&(i=t.userid),"guard"===t.role&&(i=""),"student"===t.role&&(l=t.name),"guard"===t.role&&(l=""),"student"===t.role&&(d="rented"),"guard"===t.role&&(d=""),e.next=32,fetch("".concat(s,"/cycles/").concat(t.cycleid),{method:"PATCH",body:JSON.stringify({status:d,stdid:i,stdname:l}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 32:return n=e.sent,e.next=35,n.json();case 35:if(c=e.sent,n.ok){e.next=38;break}throw new Error(c.message||"Could not Rent Cycle.");case 38:return e.abrupt("return","Cycle Rented");case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/users/signup"),{method:"POST",body:JSON.stringify(t.student),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not Add Student.");case 8:return e.abrupt("return","Student Added");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/users/").concat(t.student.email),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not Delete Student.");case 8:return e.abrupt("return","Student Deleted");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/cycles/add"),{method:"POST",body:JSON.stringify(t.cycle),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not Add Cycle.");case 8:return e.abrupt("return","Student Added");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/cycles/").concat(t.cycleid),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not Delete Cycle");case 8:return e.abrupt("return","Cycle Deleted");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/cycles/all"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not fetch Cycles.");case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},,,,,,function(e,t,n){e.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",nav:"MainNavigation_nav__2KJfX",active:"MainNavigation_active__oN3Ka",image:"MainNavigation_image__1Uu62"}},,function(e,t,n){"use strict";var c=n(40),a=n.n(c),r=n(0);t.a=function(e){return Object(r.jsx)("div",{className:"centered",children:Object(r.jsx)("div",{className:a.a.action,children:Object(r.jsx)("button",{onClick:e.click,type:"button",children:e.children})})})}},function(e,t,n){e.exports={auth:"AddStudentForm_auth__h7mok",control:"AddStudentForm_control__2g9qK",actions:"AddStudentForm_actions__u4M92",toggle:"AddStudentForm_toggle__29Mvf"}},,function(e,t,n){"use strict";var c=n(2),a=n(1),r=n(26),s=n.n(r),o=n(35),i=n(0);t.a=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],l=n[1];return Object(i.jsxs)("div",{className:s.a.camera,children:[Object(i.jsx)("div",{className:s.a.action,children:Object(i.jsx)("button",{type:"button",onClick:function(){r&&l(!1),r||l(!0)},children:r?"Close Camera":"Open Camera"})}),Object(i.jsx)("div",{className:s.a.camera,children:r&&Object(i.jsx)(o.a,{onFind:function(t,n){t&&e.scan(t),n&&console.info(n)}})})]})}},,,,function(e,t,n){e.exports={camera:"Scanner_camera__2iaKL",bu:"Scanner_bu__3hea6",action:"Scanner_action__2ugFY"}},,,,,,function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},,function(e,t,n){e.exports={main:"Layout_main__auk_r"}},,,,,,function(e,t,n){e.exports={action:"Button_action__1h3-3"}},function(e,t,n){e.exports={container:"AdminPage_container__1m3KL"}},function(e,t,n){e.exports={item:"CycleItem_item__3DiAo"}},function(e,t,n){e.exports={list:"CycleList_list__31-ni",sorting:"CycleList_sorting__9l_4o"}},,,,,,,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(30),a=n.n(c),r=n(15),s=n(4),o=(n(56),n(2)),i=n(1),l=n.n(i),d=n(5),u=n(23),j=n(29),b=n(10),O=n(11),m=n(6),h=n(20),x=n.n(h),p=n(0),g=function(e){var t=Object(i.useContext)(s.b),n=Object(i.useRef)(),c=Object(d.g)(),a=Object(i.useState)(!1),r=Object(o.a)(a,2),l=r[0],u=r[1],h=Object(i.useState)(!1),g=Object(o.a)(h,2),f=g[0],v=g[1],S=Object(i.useState)(!1),y=Object(o.a)(S,2),N=y[0],k=y[1],C=Object(b.a)(O.b,!1),w=C.sendRequest,_=C.status,I=C.error;if("pending"===_)return Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})});if(I)return Object(p.jsx)("p",{className:"centered",children:I});var A,E=e.user.email.substring(0,9),R=E.substring(4,6);"01"===R&&(A="Bio Chemical Engineering"),"02"===R&&(A="Civil Engineering"),"03"===R&&(A="Chemical Techonology"),"04"===R&&(A="Computer Sceince and Engineering"),"05"===R&&(A="Electrical Engineering"),"06"===R&&(A="Electronics Engineering"),"07"===R&&(A="Food Technology"),"08"===R&&(A="Information Technology"),"09"===R&&(A="Leather Technology"),"10"===R&&(A="Mechanical Engineering"),"11"===R&&(A="Oil Technology"),"12"===R&&(A="Plastic Technology"),"13"===R&&(A="Paint Technology");return Object(p.jsxs)("section",{className:x.a.auth,children:[Object(p.jsx)("h1",{children:"Add Student"}),Object(p.jsxs)("form",{onSubmit:function(a){if(a.preventDefault(),N){v(!0);var r=e.user.name;w({student:{name:r.substring(0,r.length-31),rollno:E,branch:A,role:"student",cycleid:"",email:e.user.email,password:n.current.value},token:t.token}),v(!1),c.replace("/")}else alert("Verify that you are a human")},children:[Object(p.jsxs)("div",{className:x.a.control,children:[Object(p.jsx)("label",{htmlFor:"Name",children:"Student Name"}),Object(p.jsx)("input",{type:"Name",id:"Name",required:!0,value:e.user.name,readOnly:!0})]}),Object(p.jsxs)("div",{className:x.a.control,children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsx)("input",{type:"userName",id:"userName",required:!0,value:e.user.email,readOnly:!0})]}),Object(p.jsxs)("div",{className:x.a.control,children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:l?"text":"password",id:"password",required:!0,ref:n})]}),Object(p.jsx)("input",{type:"checkbox",onClick:function(){l&&u(!1),l||u(!0)}})," Show Password",Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(j.a,{sitekey:"6LcU0VQjAAAAAHdKzj2Ub7RAbfQCf6QXbgOif9Le",onChange:function(){k(!0)}})}),Object(p.jsxs)("div",{className:x.a.actions,children:[!f&&Object(p.jsx)("button",{children:"Create Account"}),f&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},f=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)({}),r=Object(o.a)(a,2),s=r[0],l=r[1];Object(i.useEffect)((function(){google.accounts.id.initialize({client_id:"796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com",callback:d}),google.accounts.id.renderButton(document.getElementById("signupDiv"),{theme:"outline",size:"large"})}));var d=function(e){var t=Object(u.a)(e.credential);document.getElementById("signupDiv").hidden=!0,t.email.includes("@hbtu.ac.in")?(l(t),c(!0)):alert("Not a HBTU Id")};return Object(p.jsxs)("div",{children:[!n&&Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)("div",{id:"signupDiv"})}),n&&Object(p.jsx)("div",{children:Object(p.jsx)(g,{user:s})})]})},v=n(34),S=n.n(v),y=n.p+"static/media/gogreen.c1a0a6ff.png",N=n(17),k=n.n(N),C=function(){var e=Object(i.useContext)(s.b),t=Object(i.useState)(!1),n=Object(o.a)(t,2),c=n[0],a=n[1],l=Object(i.useState)(!1),d=Object(o.a)(l,2),u=d[0],j=d[1];Object(i.useEffect)((function(){"student"===e.role&&(a(!1),j(!1)),"guard"===e.role&&(a(!0),j(!1)),"admin"===e.role&&(j(!0),a(!1))}),[e,e.role]);var b=function(){e.logout()};return Object(p.jsxs)("header",{className:k.a.header,children:[Object(p.jsxs)("div",{className:k.a.logo,children:[Object(p.jsx)("img",{src:y}),"Green Rides"]}),Object(p.jsx)("nav",{className:k.a.nav,children:Object(p.jsxs)("ul",{children:[e.isLoggedIn&&Object(p.jsx)("li",{children:Object(p.jsx)(r.b,{to:"/mainPage",activeClassName:k.a.active,children:"Main Page"})}),e.isLoggedIn&&!u&&Object(p.jsx)("li",{children:Object(p.jsx)(r.b,{to:"/rent",activeClassName:k.a.active,children:c?"Return":"Rent"})}),e.isLoggedIn&&u&&Object(p.jsx)("li",{children:Object(p.jsx)(r.b,{to:"/admin",activeClassName:k.a.active,children:"Admin"})}),!e.isLoggedIn&&Object(p.jsx)("li",{children:Object(p.jsx)(r.b,{to:"/auth",activeClassName:k.a.active,onClick:b,children:"Login"})}),e.isLoggedIn&&u&&Object(p.jsx)("li",{children:Object(p.jsx)(r.b,{to:"/cycles",activeClassName:k.a.active,children:"Cycles"})}),e.isLoggedIn&&Object(p.jsx)("li",{children:Object(p.jsx)(r.b,{to:"/auth",activeClassName:k.a.active,onClick:b,children:"Logout"})})]})})]})},w=function(e){return Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(C,{}),Object(p.jsx)("main",{className:S.a.main,children:e.children})]})},_=n(22),I=n(3),A=n.n(I),E=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(!1),r=Object(o.a)(a,2),l=r[0],d=r[1],u=Object(i.useState)(null),j=Object(o.a)(u,2),h=j[0],x=j[1],g=Object(i.useContext)(s.b),f=Object(b.a)(O.a,!1),v=f.sendRequest,S=f.status,y=f.error;return"pending"===S?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):y?Object(p.jsx)("p",{className:"centered",children:y}):Object(p.jsxs)("section",{className:A.a.auth,children:[Object(p.jsx)("h1",{children:"Add Cycle"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(!0),v({cycle:{cycleid:h,status:"",stdid:""},token:g.token}),y||alert("Cycle Added"),c(!1)},children:[!l&&Object(p.jsx)(_.a,{scan:function(e){x(e),d(!0)}}),l&&Object(p.jsx)("h3",{children:h}),Object(p.jsxs)("div",{className:A.a.actions,children:[!n&&l&&Object(p.jsx)("button",{children:"Add Cycle"}),n&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},R=function(){var e=Object(i.useRef)(),t=Object(i.useRef)(),n=Object(i.useRef)(),c=Object(i.useState)(!1),a=Object(o.a)(c,2),r=a[0],l=a[1],d=Object(i.useState)(!1),u=Object(o.a)(d,2),j=u[0],h=u[1],x=Object(b.a)(O.b,!1),g=x.sendRequest,f=x.status,v=x.error;return"pending"===f?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):v?Object(p.jsx)("p",{className:"centered",children:v}):Object(p.jsxs)("section",{className:A.a.auth,children:[Object(p.jsx)("h1",{children:"Add Guard"}),Object(p.jsxs)("form",{onSubmit:function(c){c.preventDefault(),h(!0),g({student:{name:e.current.value,email:t.current.value,role:"guard",password:n.current.value},token:s.b.token}),v||alert("Guard Added"),h(!1)},children:[Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"Name",children:"Guard Name"}),Object(p.jsx)("input",{type:"Name",id:"Name",required:!0,ref:e})]}),Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"email",children:"Guard Email"}),Object(p.jsx)("input",{type:"userName",id:"userName",required:!0,ref:t})]}),Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"password",children:"Guard Password"}),Object(p.jsx)("input",{type:r?"text":"password",id:"password",required:!0,ref:n})]}),Object(p.jsx)("input",{type:"checkbox",onClick:function(){r&&l(!1),r||l(!0)}})," Show Password",Object(p.jsxs)("div",{className:A.a.actions,children:[!j&&Object(p.jsx)("button",{children:"Add Guard"}),j&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},T=function(){var e=Object(i.useContext)(s.b),t=Object(i.useRef)(),n=Object(i.useRef)(),c=Object(i.useRef)(),a=Object(i.useState)(!1),r=Object(o.a)(a,2),l=r[0],d=r[1],u=Object(i.useState)(!1),j=Object(o.a)(u,2),h=j[0],x=j[1],g=Object(b.a)(O.b,!1),f=g.sendRequest,v=g.status,S=g.error;if(h)return Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})});if("pending"===v)return Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})});if(S)return Object(p.jsx)("p",{className:"centered",children:S});return Object(p.jsxs)("section",{className:A.a.auth,children:[Object(p.jsx)("h1",{children:"Add User"}),Object(p.jsxs)("form",{onSubmit:function(a){a.preventDefault(),x(!0),f({student:{name:t.current.value,rollno:"",branch:"",role:"student",email:n.current.value,password:c.current.value},token:e.token}),S||alert("Student Added"),x(!1)},children:[Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"Name",children:"Name"}),Object(p.jsx)("input",{type:"Name",id:"Name",required:!0,ref:t})]}),Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsx)("input",{type:"userName",id:"userName",required:!0,ref:n})]}),Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:l?"text":"password",id:"password",required:!0,ref:c})]}),Object(p.jsx)("input",{type:"checkbox",onClick:function(){l&&d(!1),l||d(!0)}})," Show Password",Object(p.jsxs)("div",{className:A.a.actions,children:[!h&&Object(p.jsx)("button",{children:"Add Student"}),h&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},D=function(){var e=Object(i.useContext)(s.b),t=Object(i.useState)(!1),n=Object(o.a)(t,2),c=n[0],a=n[1],r=Object(i.useState)(!1),l=Object(o.a)(r,2),d=l[0],u=l[1],j=Object(i.useState)(null),h=Object(o.a)(j,2),x=h[0],g=h[1],f=Object(b.a)(O.c,!1),v=f.sendRequest,S=f.status,y=f.error;return"pending"===S?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):y?Object(p.jsx)("p",{className:"centered",children:y}):Object(p.jsxs)("section",{className:A.a.auth,children:[Object(p.jsx)("h1",{children:"Delete Cycle"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a(!0),v({cycleid:x,token:e.token}),y||alert("Cycle Deleted"),a(!1)},children:[!d&&Object(p.jsx)(_.a,{scan:function(e){g(e),u(!0)}}),d&&Object(p.jsx)("h3",{children:x}),Object(p.jsxs)("div",{className:A.a.actions,children:[!c&&d&&Object(p.jsx)("button",{children:"Delete Cycle"}),c&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},q=function(){var e=Object(i.useContext)(s.b),t=Object(i.useRef)(),n=Object(i.useState)(!1),c=Object(o.a)(n,2),a=c[0],r=c[1],l=Object(b.a)(O.d,!1),d=l.sendRequest,u=l.status,j=l.error;return"pending"===u?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):j?Object(p.jsx)("p",{className:"centered",children:j}):Object(p.jsxs)("section",{className:A.a.auth,children:[Object(p.jsx)("h1",{children:"Delete Guard"}),Object(p.jsxs)("form",{onSubmit:function(n){n.preventDefault(),r(!0),d({student:{email:t.current.value},token:e.token}),j||alert("Guard Deleted"),r(!1)},children:[Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"email",children:"Guard Email"}),Object(p.jsx)("input",{type:"userName",id:"userName",required:!0,ref:t})]}),Object(p.jsxs)("div",{className:A.a.actions,children:[!a&&Object(p.jsx)("button",{children:"Delete Guard"}),a&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},F=function(){var e=Object(i.useContext)(s.b),t=Object(i.useRef)(),n=Object(i.useState)(!1),c=Object(o.a)(n,2),a=c[0],r=c[1],l=Object(b.a)(O.d,!1),d=l.sendRequest,u=l.status,j=l.error;return a||"pending"===u?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):j?Object(p.jsx)("p",{className:"centered",children:j}):Object(p.jsxs)("section",{className:A.a.auth,children:[Object(p.jsx)("h1",{children:"Delete User"}),Object(p.jsxs)("form",{onSubmit:function(n){n.preventDefault(),r(!0),d({student:{email:t.current.value},token:e.token}),j||alert("Student Deleted"),r(!1)},children:[Object(p.jsxs)("div",{className:A.a.control,children:[Object(p.jsx)("label",{htmlFor:"email",children:"User Email"}),Object(p.jsx)("input",{type:"userName",id:"userName",required:!0,ref:t})]}),Object(p.jsxs)("div",{className:A.a.actions,children:[!a&&Object(p.jsx)("button",{children:"Delete Student"}),a&&Object(p.jsx)("p",{children:"Sending Request...."})]})]})]})},L=n(19),P=function(e){return Object(p.jsx)("section",{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"centered",children:[Object(p.jsx)(L.a,{click:e.printadds,children:"Add Student"}),Object(p.jsx)(L.a,{click:e.printdels,children:"Delete Student"}),Object(p.jsx)(L.a,{click:e.printaddg,children:"Add Guard"}),Object(p.jsx)(L.a,{click:e.printdelg,children:"Delete Guard"})]}),Object(p.jsxs)("div",{className:"centered",children:[Object(p.jsx)(L.a,{click:e.printaddc,children:"Add Cycle"}),Object(p.jsx)(L.a,{click:e.printdelc,children:"Delete Cycle"})]})]})})},B=n(41),z=n.n(B),G=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(!1),r=Object(o.a)(a,2),s=r[0],l=r[1],d=Object(i.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1],O=Object(i.useState)(!1),m=Object(o.a)(O,2),h=m[0],x=m[1],g=Object(i.useState)(!1),f=Object(o.a)(g,2),v=f[0],S=f[1],y=Object(i.useState)(!1),N=Object(o.a)(y,2),k=N[0],C=N[1];return Object(p.jsx)("div",{className:z.a.container,children:Object(p.jsxs)("div",{children:[n&&Object(p.jsx)(T,{}),s&&Object(p.jsx)(F,{}),j&&Object(p.jsx)(R,{}),h&&Object(p.jsx)(q,{}),v&&Object(p.jsx)(E,{}),k&&Object(p.jsx)(D,{}),Object(p.jsx)(P,{printadds:function(){n&&c(!1),n||(c(!0),l(!1),b(!1),x(!1),S(!1),C(!1))},printdels:function(){s&&l(!1),s||(c(!1),l(!0),b(!1),x(!1),S(!1),C(!1))},printaddg:function(){j&&b(!1),j||(c(!1),l(!1),b(!0),x(!1),S(!1),C(!1))},printdelg:function(){h&&x(!1),h||(c(!1),l(!1),b(!1),x(!0),S(!1),C(!1))},printaddc:function(){v&&S(!1),v||(c(!1),l(!1),b(!1),x(!1),S(!0),C(!1))},printdelc:function(){k&&C(!1),k||(c(!1),l(!1),b(!1),x(!1),S(!1),C(!0))}})]})})},M=n(42),J=n.n(M),U=function(e){return"Not Rented","rented"===e.status&&"Rented",Object(p.jsx)("li",{className:J.a.item,children:Object(p.jsx)("figure",{children:Object(p.jsxs)("blockcycle",{children:[Object(p.jsxs)("p",{children:["Cycle Id: ",e.id]}),Object(p.jsxs)("p",{children:["Name: ",e.stdname]})]})})})},K=n(43),H=n.n(K),Q=function(e){return 0===e.cycles.length?Object(p.jsx)(i.Fragment,{children:Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)("h1",{children:"No Cycles Rented"})})}):Object(p.jsx)(i.Fragment,{children:Object(p.jsx)("ul",{className:H.a.list,children:e.cycles.map((function(e){return Object(p.jsx)(U,{stdid:e.stdid,id:e.cycleid,status:e.status,stdname:e.stdname},e.cycleid)}))})})},V=function(){var e=Object(i.useContext)(s.b),t=Object(i.useState)(!0),n=Object(o.a)(t,2),c=n[0],a=n[1],r=Object(b.a)(O.e,!1),l=r.sendRequest,d=r.status,u=r.data,j=r.error;return c&&(a(!1),l({token:e.token})),"pending"===d?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):j?Object(p.jsx)("p",{className:"centered",children:j}):Object(p.jsx)(i.Fragment,{children:Object(p.jsx)(Q,{cycles:u})})};var X=function(){var e=l.a.lazy((function(){return n.e(6).then(n.bind(null,70))})),t=l.a.lazy((function(){return n.e(3).then(n.bind(null,72))})),c=l.a.lazy((function(){return n.e(4).then(n.bind(null,73))})),a=l.a.lazy((function(){return n.e(5).then(n.bind(null,71))})),r=Object(i.useContext)(s.b),u=Object(i.useState)(!1),j=Object(o.a)(u,2),b=j[0],O=j[1],h=Object(i.useState)(!1),x=Object(o.a)(h,2),g=x[0],v=x[1],S=r.isLoggedIn;return Object(i.useEffect)((function(){S&&(O(!0),fetch("https://app.hbtu.ac.in/users/login",{method:"POST",body:JSON.stringify({email:r.email,password:r.password}),headers:{"Content-Type":"application/json"}}).then((function(e){return O(!1),e.ok?e.json():(r.logout(),e.json().then((function(e){var t="Authentication Failed";throw e&&e.error&&e.error.message&&(O(!1),t=e.error.message),new Error(t)})))})).then((function(e){var t=new Date((new Date).getTime()+36e6);r.login(e,r.password,e.token,e._id,e.role,e.cycleid,t.toISOString())})).catch((function(e){alert(e.message)})))}),[S]),Object(i.useEffect)((function(){"admin"===r.role?v(!0):v(!1)}),[g,r.role,r]),b?Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}):Object(p.jsx)(w,{children:Object(p.jsx)(i.Suspense,{fallback:Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(m.a,{})}),children:Object(p.jsxs)(d.d,{children:[Object(p.jsxs)(d.b,{path:"/",exact:!0,children:[S&&Object(p.jsx)(d.a,{to:"/mainPage"}),!S&&Object(p.jsx)(d.a,{to:"/auth"})]}),Object(p.jsxs)(d.b,{path:"/signup",children:[S&&Object(p.jsx)(d.a,{to:"/mainPage"}),!S&&Object(p.jsx)(f,{})]}),Object(p.jsxs)(d.b,{path:"/auth",children:[S&&Object(p.jsx)(d.a,{to:"/mainPage"}),!S&&Object(p.jsx)(c,{})]}),Object(p.jsxs)(d.b,{path:"/mainPage",children:[S&&Object(p.jsx)(t,{}),!S&&Object(p.jsx)(d.a,{to:"/auth"})]}),Object(p.jsxs)(d.b,{path:"/rent",children:[S&&Object(p.jsx)(a,{}),!S&&Object(p.jsx)(d.a,{to:"/auth"})]}),Object(p.jsxs)(d.b,{path:"/admin",children:[S&&g&&Object(p.jsx)(G,{}),S&&!g&&Object(p.jsx)(d.a,{to:"/auth"}),!S&&!g&&Object(p.jsx)(d.a,{to:"/auth"})]}),Object(p.jsx)(d.b,{path:"/cycles",children:Object(p.jsx)(V,{})}),Object(p.jsx)(d.b,{path:"*",children:Object(p.jsx)(e,{})})]})})})};a.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(s.a,{children:Object(p.jsx)(r.a,{children:Object(p.jsx)(X,{})})}))}],[[65,1,2]]]);
//# sourceMappingURL=main.d352a7b7.chunk.js.map