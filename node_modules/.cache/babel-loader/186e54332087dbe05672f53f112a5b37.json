{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useContext,useEffect,useState}from'react';import CycleList from'../components/cycle/CycleList';import useHttp from'../components/hooks/use-http';import{getCycles}from'../components/lib/api';import AuthContext from'../store/auth-context';import LoadingSpinner from'../components/UI/LoadingSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";var Cycles=function Cycles(){var authCtx=useContext(AuthContext);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),getit=_useState2[0],setgit=_useState2[1];var _useHttp=useHttp(getCycles,false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,cycles=_useHttp.data,error=_useHttp.error;if(getit){setgit(false);sendRequest({token:authCtx.token});}//   useEffect(() => {\n//     sendRequest({ token: authCtx.token });\n//   }, [sendRequest]);\nif(status==='pending'){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered\",children:error});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(CycleList,{cycles:cycles})});};export default Cycles;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/pages/Cycles.js"],"names":["Fragment","useContext","useEffect","useState","CycleList","useHttp","getCycles","AuthContext","LoadingSpinner","Cycles","authCtx","getit","setgit","sendRequest","status","cycles","data","error","token"],"mappings":"wIAAA,OAASA,QAAT,CAAmBC,UAAnB,CAA+BC,SAA/B,CAA0CC,QAA1C,KAA0D,OAA1D,CACA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,OAASC,SAAT,KAA0B,uBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,C,2CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAMC,CAAAA,OAAO,CAAGT,UAAU,CAACM,WAAD,CAA1B,CACA,cAAwBJ,QAAQ,CAAC,IAAD,CAAhC,wCAAOQ,KAAP,eAAcC,MAAd,eAEA,aAKIP,OAAO,CAACC,SAAD,CAAY,KAAZ,CALX,CACEO,WADF,UACEA,WADF,CAEEC,MAFF,UAEEA,MAFF,CAGQC,MAHR,UAGEC,IAHF,CAIEC,KAJF,UAIEA,KAJF,CAOA,GAAIN,KAAJ,CAAW,CACTC,MAAM,CAAC,KAAD,CAAN,CACAC,WAAW,CAAC,CAAEK,KAAK,CAAER,OAAO,CAACQ,KAAjB,CAAD,CAAX,CACD,CACD;AACA;AACA;AAEA,GAAIJ,MAAM,GAAK,SAAf,CAA0B,CACxB,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,cAAD,IADF,EADF,CAKD,CACD,GAAIG,KAAJ,CAAW,CACT,mBAAO,UAAG,SAAS,CAAC,UAAb,UAAyBA,KAAzB,EAAP,CACD,CAED,mBACE,KAAC,QAAD,wBACE,KAAC,SAAD,EAAW,MAAM,CAAEF,MAAnB,EADF,EADF,CAKD,CAnCD,CAqCA,cAAeN,CAAAA,MAAf","sourcesContent":["import { Fragment, useContext, useEffect, useState } from 'react';\nimport CycleList from '../components/cycle/CycleList';\nimport useHttp from '../components/hooks/use-http';\nimport { getCycles } from '../components/lib/api';\nimport AuthContext from '../store/auth-context';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\n\nconst Cycles = () => {\n  const authCtx = useContext(AuthContext);\n  const [getit, setgit] = useState(true);\n\n  const {\n    sendRequest,\n    status,\n    data: cycles,\n    error,\n  } = useHttp(getCycles, false);\n\n  if (getit) {\n    setgit(false);\n    sendRequest({ token: authCtx.token });\n  }\n  //   useEffect(() => {\n  //     sendRequest({ token: authCtx.token });\n  //   }, [sendRequest]);\n\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  return (\n    <Fragment>\n      <CycleList cycles={cycles} />\n    </Fragment>\n  );\n};\n\nexport default Cycles;\n"]},"metadata":{},"sourceType":"module"}