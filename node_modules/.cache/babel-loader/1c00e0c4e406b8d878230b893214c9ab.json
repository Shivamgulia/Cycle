{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import jwt_decode from'jwt-decode';import AddStudentForm from'../components/auth/AddStudentForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),initialSignup=_useState2[0],setInitialSignup=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){/* global google */google.accounts.id.initialize({client_id:'622560773772-iifqp88cithvc1osdp9d03126cvv0d9s.apps.googleusercontent.com',callback:handleCallbackResponse});google.accounts.id.renderButton(document.getElementById('signupDiv'),{theme:'outline',size:'large'});});var handleCallbackResponse=function handleCallbackResponse(response){var userObject=jwt_decode(response.credential);document.getElementById('signupDiv').hidden=true;// console.log(userObject);\nif(userObject.email.includes('@hbtu.ac.in')){setUser(userObject);// console.log(user);\nsetInitialSignup(true);}else{alert('Not a HBTU Id');throw Error('Not a HBTU Id');}};return/*#__PURE__*/_jsxs(\"div\",{children:[!initialSignup&&/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(\"div\",{id:\"signupDiv\"})}),initialSignup&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AddStudentForm,{user:user})})]});};export default Signup;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Signup.js"],"names":["useEffect","useState","jwt_decode","AddStudentForm","Signup","initialSignup","setInitialSignup","user","setUser","google","accounts","id","initialize","client_id","callback","handleCallbackResponse","renderButton","document","getElementById","theme","size","response","userObject","credential","hidden","email","includes","alert","Error"],"mappings":"wIAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAA0CH,QAAQ,CAAC,KAAD,CAAlD,wCAAOI,aAAP,eAAsBC,gBAAtB,eACA,eAAwBL,QAAQ,CAAC,EAAD,CAAhC,yCAAOM,IAAP,eAAaC,OAAb,eAEAR,SAAS,CAAC,UAAM,CACd,mBACAS,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBC,UAAnB,CAA8B,CAC5BC,SAAS,CACP,0EAF0B,CAG5BC,QAAQ,CAAEC,sBAHkB,CAA9B,EAKAN,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBK,YAAnB,CAAgCC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAhC,CAAsE,CACpEC,KAAK,CAAE,SAD6D,CAEpEC,IAAI,CAAE,OAF8D,CAAtE,EAID,CAXQ,CAAT,CAYA,GAAML,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACM,QAAD,CAAc,CAC3C,GAAIC,CAAAA,UAAU,CAAGpB,UAAU,CAACmB,QAAQ,CAACE,UAAV,CAA3B,CACAN,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCM,MAArC,CAA8C,IAA9C,CACA;AAEA,GAAIF,UAAU,CAACG,KAAX,CAAiBC,QAAjB,CAA0B,aAA1B,CAAJ,CAA8C,CAC5ClB,OAAO,CAACc,UAAD,CAAP,CACA;AAEAhB,gBAAgB,CAAC,IAAD,CAAhB,CACD,CALD,IAKO,CACLqB,KAAK,CAAC,eAAD,CAAL,CACA,KAAMC,CAAAA,KAAK,CAAC,eAAD,CAAX,CACD,CACF,CAdD,CAgBA,mBACE,uBACG,CAACvB,aAAD,eACC,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,EAAE,CAAC,WAAR,EADF,EAFJ,CAMGA,aAAa,eACZ,kCACE,KAAC,cAAD,EAAgB,IAAI,CAAEE,IAAtB,EADF,EAPJ,GADF,CAcD,CA9CD,CAgDA,cAAeH,CAAAA,MAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport AddStudentForm from '../components/auth/AddStudentForm';\n\nconst Signup = () => {\n  const [initialSignup, setInitialSignup] = useState(false);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    /* global google */\n    google.accounts.id.initialize({\n      client_id:\n        '622560773772-iifqp88cithvc1osdp9d03126cvv0d9s.apps.googleusercontent.com',\n      callback: handleCallbackResponse,\n    });\n    google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n      theme: 'outline',\n      size: 'large',\n    });\n  });\n  const handleCallbackResponse = (response) => {\n    var userObject = jwt_decode(response.credential);\n    document.getElementById('signupDiv').hidden = true;\n    // console.log(userObject);\n\n    if (userObject.email.includes('@hbtu.ac.in')) {\n      setUser(userObject);\n      // console.log(user);\n\n      setInitialSignup(true);\n    } else {\n      alert('Not a HBTU Id');\n      throw Error('Not a HBTU Id');\n    }\n  };\n\n  return (\n    <div>\n      {!initialSignup && (\n        <div className=\"centered\">\n          <div id=\"signupDiv\"></div>\n        </div>\n      )}\n      {initialSignup && (\n        <div>\n          <AddStudentForm user={user} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}