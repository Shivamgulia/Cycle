{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import Scanner from'../QrScaner/Scanner';import useHttp from'../hooks/use-http';import{deleteCycle}from'../lib/api';import classes from'./AddStudentForm.module.css';import AuthContext from'../../store/auth-context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteCycle=function DeleteCycle(){var authCtx=useContext(AuthContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),scanComplete=_useState4[0],setScanComplete=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useHttp=useHttp(deleteCycle,false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,student=_useHttp.data,error=_useHttp.error;var addCycleHandler=function addCycleHandler(data){setId(data);setScanComplete(true);};var submitionHandler=function submitionHandler(event){event.preventDefault();setIsLoading(true);sendRequest({cycleid:id,token:authCtx.token});console.log(id);setIsLoading(false);};return/*#__PURE__*/_jsxs(\"section\",{className:classes.auth,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Delete Cycle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitionHandler,children:[!scanComplete&&/*#__PURE__*/_jsx(Scanner,{scan:addCycleHandler}),scanComplete&&/*#__PURE__*/_jsx(\"h3\",{children:id}),/*#__PURE__*/_jsxs(\"div\",{className:classes.actions,children:[!isLoading&&scanComplete&&/*#__PURE__*/_jsx(\"button\",{children:\"Delete Cycle\"}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Sending Request....\"})]})]})]});};export default DeleteCycle;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Admin/DeleteCycle.js"],"names":["useContext","useState","Scanner","useHttp","deleteCycle","classes","AuthContext","DeleteCycle","authCtx","isLoading","setIsLoading","scanComplete","setScanComplete","id","setId","sendRequest","status","student","data","error","addCycleHandler","submitionHandler","event","preventDefault","cycleid","token","console","log","auth","actions"],"mappings":"wIAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,OAAO,CAAGR,UAAU,CAACM,WAAD,CAA1B,CACA,cAAkCL,QAAQ,CAAC,KAAD,CAA1C,wCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAAwCT,QAAQ,CAAC,KAAD,CAAhD,yCAAOU,YAAP,eAAqBC,eAArB,eACA,eAAoBX,QAAQ,CAAC,IAAD,CAA5B,yCAAOY,EAAP,eAAWC,KAAX,eAEA,aAKIX,OAAO,CAACC,WAAD,CAAc,KAAd,CALX,CACEW,WADF,UACEA,WADF,CAEEC,MAFF,UAEEA,MAFF,CAGQC,OAHR,UAGEC,IAHF,CAIEC,KAJF,UAIEA,KAJF,CAOA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACF,IAAD,CAAU,CAChCJ,KAAK,CAACI,IAAD,CAAL,CACAN,eAAe,CAAC,IAAD,CAAf,CACD,CAHD,CAKA,GAAMS,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAClCA,KAAK,CAACC,cAAN,GACAb,YAAY,CAAC,IAAD,CAAZ,CACAK,WAAW,CAAC,CAAES,OAAO,CAAEX,EAAX,CAAeY,KAAK,CAAEjB,OAAO,CAACiB,KAA9B,CAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYd,EAAZ,EACAH,YAAY,CAAC,KAAD,CAAZ,CACD,CAND,CAOA,mBACE,iBAAS,SAAS,CAAEL,OAAO,CAACuB,IAA5B,wBACE,oCADF,cAEE,cAAM,QAAQ,CAAEP,gBAAhB,WACG,CAACV,YAAD,eAAiB,KAAC,OAAD,EAAS,IAAI,CAAES,eAAf,EADpB,CAEGT,YAAY,eAAI,oBAAKE,EAAL,EAFnB,cAGE,aAAK,SAAS,CAAER,OAAO,CAACwB,OAAxB,WACG,CAACpB,SAAD,EAAcE,YAAd,eAA8B,wCADjC,CAEGF,SAAS,eAAI,0CAFhB,GAHF,GAFF,GADF,CAaD,CAtCD,CAwCA,cAAeF,CAAAA,WAAf","sourcesContent":["import { useContext, useState } from 'react';\n\nimport Scanner from '../QrScaner/Scanner';\nimport useHttp from '../hooks/use-http';\nimport { deleteCycle } from '../lib/api';\nimport classes from './AddStudentForm.module.css';\nimport AuthContext from '../../store/auth-context';\n\nconst DeleteCycle = () => {\n  const authCtx = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [scanComplete, setScanComplete] = useState(false);\n  const [id, setId] = useState(null);\n\n  const {\n    sendRequest,\n    status,\n    data: student,\n    error,\n  } = useHttp(deleteCycle, false);\n\n  const addCycleHandler = (data) => {\n    setId(data);\n    setScanComplete(true);\n  };\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    sendRequest({ cycleid: id, token: authCtx.token });\n    console.log(id);\n    setIsLoading(false);\n  };\n  return (\n    <section className={classes.auth}>\n      <h1>Delete Cycle</h1>\n      <form onSubmit={submitionHandler}>\n        {!scanComplete && <Scanner scan={addCycleHandler} />}\n        {scanComplete && <h3>{id}</h3>}\n        <div className={classes.actions}>\n          {!isLoading && scanComplete && <button>Delete Cycle</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default DeleteCycle;\n"]},"metadata":{},"sourceType":"module"}