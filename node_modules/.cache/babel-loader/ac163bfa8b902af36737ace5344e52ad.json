{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useRef,useState}from'react';import AuthContext from'../../store/auth-context';import useHttp from'../hooks/use-http';import{deleteStudent}from'../lib/api';import LoadingSpinner from'../UI/LoadingSpinner';import classes from'./AddStudentForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteStudent=function DeleteStudent(){var authCtx=useContext(AuthContext);var emailRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useHttp=useHttp(deleteStudent,false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;var submitionHandler=function submitionHandler(event){event.preventDefault();setIsLoading(true);sendRequest({student:{email:emailRef.current.value},token:authCtx.token});console.log({email:emailRef.current.value});setIsLoading(false);};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(status==='pending'){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered\",children:error});}return/*#__PURE__*/_jsxs(\"section\",{className:classes.auth,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Delete Student\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitionHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Student Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"userName\",id:\"userName\",required:true,ref:emailRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.actions,children:[!isLoading&&/*#__PURE__*/_jsx(\"button\",{children:\"Delete Student\"}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Sending Request....\"})]})]})]});};export default DeleteStudent;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Admin/DeleteStudent.js"],"names":["useContext","useRef","useState","AuthContext","useHttp","deleteStudent","LoadingSpinner","classes","DeleteStudent","authCtx","emailRef","isLoading","setIsLoading","sendRequest","status","error","submitionHandler","event","preventDefault","student","email","current","value","token","console","log","auth","control","actions"],"mappings":"wIAAA,OAASA,UAAT,CAAqBC,MAArB,CAA6BC,QAA7B,KAA6C,OAA7C,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,OAASC,aAAT,KAA8B,YAA9B,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAMC,CAAAA,OAAO,CAAGT,UAAU,CAACG,WAAD,CAA1B,CACA,GAAMO,CAAAA,QAAQ,CAAGT,MAAM,EAAvB,CACA,cAAkCC,QAAQ,CAAC,KAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eAEA,aAAuCR,OAAO,CAACC,aAAD,CAAgB,KAAhB,CAA9C,CAAQQ,WAAR,UAAQA,WAAR,CAAqBC,MAArB,UAAqBA,MAArB,CAA6BC,KAA7B,UAA6BA,KAA7B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAClCA,KAAK,CAACC,cAAN,GACAN,YAAY,CAAC,IAAD,CAAZ,CACAC,WAAW,CAAC,CACVM,OAAO,CAAE,CACPC,KAAK,CAAEV,QAAQ,CAACW,OAAT,CAAiBC,KADjB,CADC,CAIVC,KAAK,CAAEd,OAAO,CAACc,KAJL,CAAD,CAAX,CAOAC,OAAO,CAACC,GAAR,CAAY,CACVL,KAAK,CAAEV,QAAQ,CAACW,OAAT,CAAiBC,KADd,CAAZ,EAGAV,YAAY,CAAC,KAAD,CAAZ,CACD,CAdD,CAeA,GAAID,SAAJ,CAAe,CACb,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,cAAD,IADF,EADF,CAKD,CACD,GAAIG,MAAM,GAAK,SAAf,CAA0B,CACxB,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,cAAD,IADF,EADF,CAKD,CACD,GAAIC,KAAJ,CAAW,CACT,mBAAO,UAAG,SAAS,CAAC,UAAb,UAAyBA,KAAzB,EAAP,CACD,CACD,mBACE,iBAAS,SAAS,CAAER,OAAO,CAACmB,IAA5B,wBAEE,sCAFF,cAGE,cAAM,QAAQ,CAAEV,gBAAhB,wBACE,aAAK,SAAS,CAAET,OAAO,CAACoB,OAAxB,wBACE,cAAO,OAAO,CAAC,OAAf,2BADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,QAAQ,KAA7C,CAA8C,GAAG,CAAEjB,QAAnD,EAFF,GADF,cAKE,aAAK,SAAS,CAAEH,OAAO,CAACqB,OAAxB,WACG,CAACjB,SAAD,eAAc,0CADjB,CAEGA,SAAS,eAAI,0CAFhB,GALF,GAHF,GADF,CAgBD,CAvDD,CAyDA,cAAeH,CAAAA,aAAf","sourcesContent":["import { useContext, useRef, useState } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport useHttp from '../hooks/use-http';\nimport { deleteStudent } from '../lib/api';\nimport LoadingSpinner from '../UI/LoadingSpinner';\n\nimport classes from './AddStudentForm.module.css';\n\nconst DeleteStudent = () => {\n  const authCtx = useContext(AuthContext);\n  const emailRef = useRef();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { sendRequest, status, error } = useHttp(deleteStudent, false);\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    sendRequest({\n      student: {\n        email: emailRef.current.value,\n      },\n      token: authCtx.token,\n    });\n\n    console.log({\n      email: emailRef.current.value,\n    });\n    setIsLoading(false);\n  };\n  if (isLoading) {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n  return (\n    <section className={classes.auth}>\n      {/* <h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1> */}\n      <h1>Delete Student</h1>\n      <form onSubmit={submitionHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Student Email</label>\n          <input type=\"userName\" id=\"userName\" required ref={emailRef} />\n        </div>\n        <div className={classes.actions}>\n          {!isLoading && <button>Delete Student</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default DeleteStudent;\n"]},"metadata":{},"sourceType":"module"}