{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import Scanner from'../QrScaner/Scanner';import useHttp from'../hooks/use-http';import{deleteCycle}from'../lib/api';import classes from'./AddStudentForm.module.css';import AuthContext from'../../store/auth-context';import LoadingSpinner from'../UI/LoadingSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteCycle=function DeleteCycle(){var authCtx=useContext(AuthContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),scanComplete=_useState4[0],setScanComplete=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useHttp=useHttp(deleteCycle,false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;var addCycleHandler=function addCycleHandler(data){setId(data);setScanComplete(true);};var submitionHandler=function submitionHandler(event){event.preventDefault();setIsLoading(true);sendRequest({cycleid:id,token:authCtx.token});if(!error){alert('Cycle Deleted');}// console.log(id);\nsetIsLoading(false);};if(status==='pending'){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered\",children:error});}return/*#__PURE__*/_jsxs(\"section\",{className:classes.auth,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Delete Cycle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitionHandler,children:[!scanComplete&&/*#__PURE__*/_jsx(Scanner,{scan:addCycleHandler}),scanComplete&&/*#__PURE__*/_jsx(\"h3\",{children:id}),/*#__PURE__*/_jsxs(\"div\",{className:classes.actions,children:[!isLoading&&scanComplete&&/*#__PURE__*/_jsx(\"button\",{children:\"Delete Cycle\"}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Sending Request....\"})]})]})]});};export default DeleteCycle;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/Admin/DeleteCycle.js"],"names":["useContext","useState","Scanner","useHttp","deleteCycle","classes","AuthContext","LoadingSpinner","DeleteCycle","authCtx","isLoading","setIsLoading","scanComplete","setScanComplete","id","setId","sendRequest","status","error","addCycleHandler","data","submitionHandler","event","preventDefault","cycleid","token","alert","auth","actions"],"mappings":"wIAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,OAAO,CAAGT,UAAU,CAACM,WAAD,CAA1B,CACA,cAAkCL,QAAQ,CAAC,KAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAwCV,QAAQ,CAAC,KAAD,CAAhD,yCAAOW,YAAP,eAAqBC,eAArB,eACA,eAAoBZ,QAAQ,CAAC,IAAD,CAA5B,yCAAOa,EAAP,eAAWC,KAAX,eAEA,aAAuCZ,OAAO,CAACC,WAAD,CAAc,KAAd,CAA9C,CAAQY,WAAR,UAAQA,WAAR,CAAqBC,MAArB,UAAqBA,MAArB,CAA6BC,KAA7B,UAA6BA,KAA7B,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,CAAU,CAChCL,KAAK,CAACK,IAAD,CAAL,CACAP,eAAe,CAAC,IAAD,CAAf,CACD,CAHD,CAKA,GAAMQ,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAClCA,KAAK,CAACC,cAAN,GACAZ,YAAY,CAAC,IAAD,CAAZ,CACAK,WAAW,CAAC,CAAEQ,OAAO,CAAEV,EAAX,CAAeW,KAAK,CAAEhB,OAAO,CAACgB,KAA9B,CAAD,CAAX,CACA,GAAI,CAACP,KAAL,CAAY,CACVQ,KAAK,CAAC,eAAD,CAAL,CACD,CACD;AACAf,YAAY,CAAC,KAAD,CAAZ,CACD,CATD,CAWA,GAAIM,MAAM,GAAK,SAAf,CAA0B,CACxB,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,cAAD,IADF,EADF,CAKD,CACD,GAAIC,KAAJ,CAAW,CACT,mBAAO,UAAG,SAAS,CAAC,UAAb,UAAyBA,KAAzB,EAAP,CACD,CAED,mBACE,iBAAS,SAAS,CAAEb,OAAO,CAACsB,IAA5B,wBACE,oCADF,cAEE,cAAM,QAAQ,CAAEN,gBAAhB,WACG,CAACT,YAAD,eAAiB,KAAC,OAAD,EAAS,IAAI,CAAEO,eAAf,EADpB,CAEGP,YAAY,eAAI,oBAAKE,EAAL,EAFnB,cAGE,aAAK,SAAS,CAAET,OAAO,CAACuB,OAAxB,WACG,CAAClB,SAAD,EAAcE,YAAd,eAA8B,wCADjC,CAEGF,SAAS,eAAI,0CAFhB,GAHF,GAFF,GADF,CAaD,CAhDD,CAkDA,cAAeF,CAAAA,WAAf","sourcesContent":["import { useContext, useState } from 'react';\n\nimport Scanner from '../QrScaner/Scanner';\nimport useHttp from '../hooks/use-http';\nimport { deleteCycle } from '../lib/api';\nimport classes from './AddStudentForm.module.css';\nimport AuthContext from '../../store/auth-context';\nimport LoadingSpinner from '../UI/LoadingSpinner';\n\nconst DeleteCycle = () => {\n  const authCtx = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [scanComplete, setScanComplete] = useState(false);\n  const [id, setId] = useState(null);\n\n  const { sendRequest, status, error } = useHttp(deleteCycle, false);\n\n  const addCycleHandler = (data) => {\n    setId(data);\n    setScanComplete(true);\n  };\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    sendRequest({ cycleid: id, token: authCtx.token });\n    if (!error) {\n      alert('Cycle Deleted');\n    }\n    // console.log(id);\n    setIsLoading(false);\n  };\n\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  return (\n    <section className={classes.auth}>\n      <h1>Delete Cycle</h1>\n      <form onSubmit={submitionHandler}>\n        {!scanComplete && <Scanner scan={addCycleHandler} />}\n        {scanComplete && <h3>{id}</h3>}\n        <div className={classes.actions}>\n          {!isLoading && scanComplete && <button>Delete Cycle</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default DeleteCycle;\n"]},"metadata":{},"sourceType":"module"}