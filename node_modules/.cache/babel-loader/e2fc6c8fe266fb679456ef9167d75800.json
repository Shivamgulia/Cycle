{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { useEffect, useState } from 'react';\n// import jwt_decode from 'jwt-decode';\n// import AddStudentForm from '../components/auth/AddStudentForm';\n// const Signup = () => {\n//   const [initialSignup, setInitialSignup] = useState(false);\n//   const [user, setUser] = useState({});\n//   useEffect(() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id:\n//         '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com',\n//       callback: handleCallbackResponse,\n//     });\n//     google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n//       theme: 'outline',\n//       size: 'large',\n//     });\n//   });\n//   const handleCallbackResponse = (response) => {\n//     var userObject = jwt_decode(response.credential);\n//     document.getElementById('signupDiv').hidden = true;\n//     // console.log(userObject);\n//     if (userObject.email.includes('@hbtu.ac.in')) {\n//       setUser(userObject);\n//       // console.log(user);\n//       setInitialSignup(true);\n//     } else {\n//       alert('Not a HBTU Id');\n//       throw Error('Not a HBTU Id');\n//     }\n//   };\n//   return (\n//     <div>\n//       {!initialSignup && (\n//         <div className=\"centered\">\n//           <div id=\"signupDiv\"></div>\n//         </div>\n//       )}\n//       {initialSignup && (\n//         <div>\n//           <AddStudentForm user={user} />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n// export default Signup;\nimport{useEffect,useState}from'react';import{GoogleLogin}from'react-google-login';import{gapi}from'gapi-script';import AddStudentForm from'../components/auth/AddStudentForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var clientId='796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com';var _useState=useState(false),_useState2=_slicedToArray(_useState,2),initialSignup=_useState2[0],setInitialSignup=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){var initClient=function initClient(){gapi.client.init({clientId:clientId,scope:''});};gapi.load('client:auth2',initClient);},[]);var handleCallbackResponse=function handleCallbackResponse(response){var userObject=response;// console.log(userObject);\nsetUser(userObject);setInitialSignup(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[!initialSignup&&/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(GoogleLogin,{clientId:clientId,buttonText:\"Sign in with Google\",onSuccess:handleCallbackResponse,cookiePolicy:'single_host_origin',isSignedIn:true})}),initialSignup&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AddStudentForm,{user:user.profileObj})})]});};export default Signup;// const Signup = () => {\n//   useEffect(() => {\n//     const initClient = () => {\n//       gapi.client.init({\n//         clientId: clientId,\n//         scope: '',\n//       });\n//     };\n//     gapi.load('client:auth2', initClient);\n//   });\n//   const onSuccess = (res) => {\n//     console.log('success:', res);\n//   };\n//   const onFailure = (err) => {\n//     console.log('failed:', err);\n//   };\n//   return (\n//     <GoogleLogin\n//       clientId={clientId}\n//       buttonText=\"Sign in with Google\"\n//       onSuccess={onSuccess}\n//       onFailure={onFailure}\n//       cookiePolicy={'single_host_origin'}\n//       isSignedIn={true}\n//     />\n//   );\n// };\n// export default Signup;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Signup.js"],"names":["useEffect","useState","GoogleLogin","gapi","AddStudentForm","Signup","clientId","initialSignup","setInitialSignup","user","setUser","initClient","client","init","scope","load","handleCallbackResponse","response","userObject","profileObj"],"mappings":"wIAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,oBAA5B,CACA,OAASC,IAAT,KAAqB,aAArB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAMC,CAAAA,QAAQ,CACZ,0EADF,CAGA,cAA0CL,QAAQ,CAAC,KAAD,CAAlD,wCAAOM,aAAP,eAAsBC,gBAAtB,eACA,eAAwBP,QAAQ,CAAC,EAAD,CAAhC,yCAAOQ,IAAP,eAAaC,OAAb,eAEAV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBR,IAAI,CAACS,MAAL,CAAYC,IAAZ,CAAiB,CACfP,QAAQ,CAAEA,QADK,CAEfQ,KAAK,CAAE,EAFQ,CAAjB,EAID,CALD,CAMAX,IAAI,CAACY,IAAL,CAAU,cAAV,CAA0BJ,UAA1B,EACD,CARQ,CAQN,EARM,CAAT,CAUA,GAAMK,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,QAAD,CAAc,CAC3C,GAAMC,CAAAA,UAAU,CAAGD,QAAnB,CACA;AACAP,OAAO,CAACQ,UAAD,CAAP,CACAV,gBAAgB,CAAC,IAAD,CAAhB,CACD,CALD,CAOA,mBACE,uBACG,CAACD,aAAD,eACC,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,WAAD,EACE,QAAQ,CAAED,QADZ,CAEE,UAAU,CAAC,qBAFb,CAGE,SAAS,CAAEU,sBAHb,CAIE,YAAY,CAAE,oBAJhB,CAKE,UAAU,CAAE,IALd,EADF,EAFJ,CAYGT,aAAa,eACZ,kCACE,KAAC,cAAD,EAAgB,IAAI,CAAEE,IAAI,CAACU,UAA3B,EADF,EAbJ,GADF,CAoBD,CA5CD,CA8CA,cAAed,CAAAA,MAAf,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import { useEffect, useState } from 'react';\n// import jwt_decode from 'jwt-decode';\n// import AddStudentForm from '../components/auth/AddStudentForm';\n\n// const Signup = () => {\n//   const [initialSignup, setInitialSignup] = useState(false);\n//   const [user, setUser] = useState({});\n\n//   useEffect(() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id:\n//         '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com',\n//       callback: handleCallbackResponse,\n//     });\n//     google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n//       theme: 'outline',\n//       size: 'large',\n//     });\n//   });\n//   const handleCallbackResponse = (response) => {\n//     var userObject = jwt_decode(response.credential);\n//     document.getElementById('signupDiv').hidden = true;\n//     // console.log(userObject);\n\n//     if (userObject.email.includes('@hbtu.ac.in')) {\n//       setUser(userObject);\n//       // console.log(user);\n\n//       setInitialSignup(true);\n//     } else {\n//       alert('Not a HBTU Id');\n//       throw Error('Not a HBTU Id');\n//     }\n//   };\n\n//   return (\n//     <div>\n//       {!initialSignup && (\n//         <div className=\"centered\">\n//           <div id=\"signupDiv\"></div>\n//         </div>\n//       )}\n//       {initialSignup && (\n//         <div>\n//           <AddStudentForm user={user} />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Signup;\n\nimport { useEffect, useState } from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { gapi } from 'gapi-script';\n\nimport AddStudentForm from '../components/auth/AddStudentForm';\n\nconst Signup = () => {\n  const clientId =\n    '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com';\n\n  const [initialSignup, setInitialSignup] = useState(false);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    const initClient = () => {\n      gapi.client.init({\n        clientId: clientId,\n        scope: '',\n      });\n    };\n    gapi.load('client:auth2', initClient);\n  }, []);\n\n  const handleCallbackResponse = (response) => {\n    const userObject = response;\n    // console.log(userObject);\n    setUser(userObject);\n    setInitialSignup(true);\n  };\n\n  return (\n    <div>\n      {!initialSignup && (\n        <div className=\"centered\">\n          <GoogleLogin\n            clientId={clientId}\n            buttonText=\"Sign in with Google\"\n            onSuccess={handleCallbackResponse}\n            cookiePolicy={'single_host_origin'}\n            isSignedIn={true}\n          />\n        </div>\n      )}\n      {initialSignup && (\n        <div>\n          <AddStudentForm user={user.profileObj} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Signup;\n\n// const Signup = () => {\n\n//   useEffect(() => {\n//     const initClient = () => {\n//       gapi.client.init({\n//         clientId: clientId,\n//         scope: '',\n//       });\n//     };\n//     gapi.load('client:auth2', initClient);\n//   });\n//   const onSuccess = (res) => {\n//     console.log('success:', res);\n//   };\n//   const onFailure = (err) => {\n//     console.log('failed:', err);\n//   };\n\n//   return (\n//     <GoogleLogin\n//       clientId={clientId}\n//       buttonText=\"Sign in with Google\"\n//       onSuccess={onSuccess}\n//       onFailure={onFailure}\n//       cookiePolicy={'single_host_origin'}\n//       isSignedIn={true}\n//     />\n//   );\n// };\n\n// export default Signup;\n"]},"metadata":{},"sourceType":"module"}