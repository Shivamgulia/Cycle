{"ast":null,"code":"import _slicedToArray from\"/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useEffect,useState}from\"react\";import{useParams,Route,NavLink,useRouteMatch,useHistory}from\"react-router-dom\";import Comments from\"../components/comments/Comments\";import HighlightedQuote from\"../components/quotes/HighlightedQuote\";import DeleteQuote from\"../components/quotes/DeleteQuote\";import useHttp from\"../components/hooks/use-http\";import LoadingSpinner from\"../components/UI/LoadingSpinner\";import{getSingleQuote}from\"../components/lib/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuoteDetails=function QuoteDetails(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var history=useHistory();var match=useRouteMatch();var params=useParams();var quoteId=params.quoteId;var _useHttp=useHttp(getSingleQuote,true),sendRequest=_useHttp.sendRequest,status=_useHttp.status,loadedQuote=_useHttp.data,error=_useHttp.error;useEffect(function(){sendRequest(quoteId);},[sendRequest,quoteId]);if(status===\"pending\"){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered\",children:error});}if(!loadedQuote.text){return/*#__PURE__*/_jsx(\"p\",{children:\"No Quote Found\"});}var deletionHandler=function deletionHandler(){console.log(\"delete\");var data={id:loadedQuote.id};setIsLoading(true);DeleteQuote(data);setIsLoading(false);history.push(\"/quotes\");};// console.log(props.quotes);\nreturn/*#__PURE__*/_jsxs(Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(HighlightedQuote,{text:loadedQuote.text,author:loadedQuote.author,id:loadedQuote.id,deletionHandler:deletionHandler}),/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(Route,{path:match.path,exact:true,children:/*#__PURE__*/_jsx(NavLink,{className:\"btn--flat\",to:\"\".concat(match.url,\"/comments\"),children:\"Load Comments\"})})}),/*#__PURE__*/_jsxs(Route,{path:\"\".concat(match.path,\"/comments/\"),children:[/*#__PURE__*/_jsx(Comments,{}),/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(NavLink,{className:\"btn--flat\",to:\"\".concat(match.url),children:\"Hide Comments\"})})]})]});};export default QuoteDetails;","map":{"version":3,"sources":["/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/pages/QuoteDetails.js"],"names":["Fragment","useEffect","useState","useParams","Route","NavLink","useRouteMatch","useHistory","Comments","HighlightedQuote","DeleteQuote","useHttp","LoadingSpinner","getSingleQuote","QuoteDetails","props","isLoading","setIsLoading","history","match","params","quoteId","sendRequest","status","loadedQuote","data","error","text","deletionHandler","console","log","id","push","author","path","url"],"mappings":"qKAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,QAA9B,KAA8C,OAA9C,CACA,OACEC,SADF,CAEEC,KAFF,CAGEC,OAHF,CAIEC,aAJF,CAKEC,UALF,KAMO,kBANP,CAQA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uCAA7B,CACA,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,OAASC,cAAT,KAA+B,uBAA/B,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,cAAkCb,QAAQ,CAAC,KAAD,CAA1C,wCAAOc,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CACA,GAAMY,CAAAA,KAAK,CAAGb,aAAa,EAA3B,CACA,GAAMc,CAAAA,MAAM,CAAGjB,SAAS,EAAxB,CACA,GAAQkB,CAAAA,OAAR,CAAoBD,MAApB,CAAQC,OAAR,CACA,aAKIV,OAAO,CAACE,cAAD,CAAiB,IAAjB,CALX,CACES,WADF,UACEA,WADF,CAEEC,MAFF,UAEEA,MAFF,CAGQC,WAHR,UAGEC,IAHF,CAIEC,KAJF,UAIEA,KAJF,CAOAzB,SAAS,CAAC,UAAM,CACdqB,WAAW,CAACD,OAAD,CAAX,CACD,CAFQ,CAEN,CAACC,WAAD,CAAcD,OAAd,CAFM,CAAT,CAIA,GAAIE,MAAM,GAAK,SAAf,CAA0B,CACxB,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,cAAD,IADF,EADF,CAKD,CAED,GAAIG,KAAJ,CAAW,CACT,mBAAO,UAAG,SAAS,CAAC,UAAb,UAAyBA,KAAzB,EAAP,CACD,CAED,GAAI,CAACF,WAAW,CAACG,IAAjB,CAAuB,CACrB,mBAAO,qCAAP,CACD,CAED,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BC,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,GAAML,CAAAA,IAAI,CAAG,CAAEM,EAAE,CAAEP,WAAW,CAACO,EAAlB,CAAb,CACAd,YAAY,CAAC,IAAD,CAAZ,CACAP,WAAW,CAACe,IAAD,CAAX,CACAR,YAAY,CAAC,KAAD,CAAZ,CACAC,OAAO,CAACc,IAAR,CAAa,SAAb,EACD,CAPD,CAQA;AAEA,mBACE,MAAC,QAAD,YACGhB,SAAS,eAAI,KAAC,cAAD,IADhB,cAEE,KAAC,gBAAD,EACE,IAAI,CAAEQ,WAAW,CAACG,IADpB,CAEE,MAAM,CAAEH,WAAW,CAACS,MAFtB,CAGE,EAAE,CAAET,WAAW,CAACO,EAHlB,CAIE,eAAe,CAAEH,eAJnB,EAFF,cAQE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,KAAD,EAAO,IAAI,CAAET,KAAK,CAACe,IAAnB,CAAyB,KAAK,KAA9B,uBACE,KAAC,OAAD,EAAS,SAAS,CAAC,WAAnB,CAA+B,EAAE,WAAKf,KAAK,CAACgB,GAAX,aAAjC,2BADF,EADF,EARF,cAeE,MAAC,KAAD,EAAO,IAAI,WAAKhB,KAAK,CAACe,IAAX,cAAX,wBACE,KAAC,QAAD,IADF,cAEE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,OAAD,EAAS,SAAS,CAAC,WAAnB,CAA+B,EAAE,WAAKf,KAAK,CAACgB,GAAX,CAAjC,2BADF,EAFF,GAfF,GADF,CA0BD,CAtED,CAwEA,cAAerB,CAAAA,YAAf","sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\nimport {\n  useParams,\n  Route,\n  NavLink,\n  useRouteMatch,\n  useHistory,\n} from \"react-router-dom\";\n\nimport Comments from \"../components/comments/Comments\";\nimport HighlightedQuote from \"../components/quotes/HighlightedQuote\";\nimport DeleteQuote from \"../components/quotes/DeleteQuote\";\nimport useHttp from \"../components/hooks/use-http\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\nimport { getSingleQuote } from \"../components/lib/api\";\n\nconst QuoteDetails = (props) => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const history = useHistory();\n  const match = useRouteMatch();\n  const params = useParams();\n  const { quoteId } = params;\n  const {\n    sendRequest,\n    status,\n    data: loadedQuote,\n    error,\n  } = useHttp(getSingleQuote, true);\n\n  useEffect(() => {\n    sendRequest(quoteId);\n  }, [sendRequest, quoteId]);\n\n  if (status === \"pending\") {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  if (!loadedQuote.text) {\n    return <p>No Quote Found</p>;\n  }\n\n  const deletionHandler = () => {\n    console.log(\"delete\");\n    const data = { id: loadedQuote.id };\n    setIsLoading(true);\n    DeleteQuote(data);\n    setIsLoading(false);\n    history.push(\"/quotes\");\n  };\n  // console.log(props.quotes);\n\n  return (\n    <Fragment>\n      {isLoading && <LoadingSpinner />}\n      <HighlightedQuote\n        text={loadedQuote.text}\n        author={loadedQuote.author}\n        id={loadedQuote.id}\n        deletionHandler={deletionHandler}\n      />\n      <div className=\"centered\">\n        <Route path={match.path} exact>\n          <NavLink className=\"btn--flat\" to={`${match.url}/comments`}>\n            Load Comments\n          </NavLink>\n        </Route>\n      </div>\n      <Route path={`${match.path}/comments/`}>\n        <Comments />\n        <div className=\"centered\">\n          <NavLink className=\"btn--flat\" to={`${match.url}`}>\n            Hide Comments\n          </NavLink>\n        </div>\n      </Route>\n    </Fragment>\n  );\n};\n\nexport default QuoteDetails;\n"]},"metadata":{},"sourceType":"module"}