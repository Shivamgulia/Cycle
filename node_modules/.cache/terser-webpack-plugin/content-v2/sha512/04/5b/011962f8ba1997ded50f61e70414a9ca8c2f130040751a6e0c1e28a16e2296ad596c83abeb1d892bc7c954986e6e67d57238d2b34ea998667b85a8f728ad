{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[3],{47:function(e,t,n){e.exports={comments:\"Comments_comments__iZX-v\"}},48:function(e,t,n){e.exports={form:\"NewCommentForm_form__2Te8b\",loading:\"NewCommentForm_loading__2veC2\",control:\"NewCommentForm_control__3NVeP\",actions:\"NewCommentForm_actions__2fwWP\"}},49:function(e,t,n){e.exports={item:\"CommentItem_item__24mbD\"}},50:function(e,t,n){e.exports={comments:\"CommentsList_comments__valp0\"}},51:function(e,t,n){e.exports={quote:\"HighlightedQuote_quote__nE9T6\",button:\"HighlightedQuote_button__3iDRk\"}},58:function(e,t,n){\"use strict\";n.r(t);var c=n(0),o=n(2),s=n(9),r=n(20),a=n(47),i=n.n(a),m=n(48),d=n.n(m),u=n(14),j=n(19),l=n(18),b=n(1),x=function(e){var t=Object(c.useRef)(),n=Object(j.a)(l.a),o=n.sendRequest,s=n.status,r=n.error,a=e.onAddComment;Object(c.useEffect)((function(){\"completed\"!==s||r||a()}),[s,a,r]);var i=function(n){n.preventDefault();var c=t.current.value;o({commentData:{text:c},quoteId:e.quoteId})};return Object(b.jsxs)(\"form\",{className:d.a.form,onSubmit:i,children:[\"pending\"===s&&Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(u.a,{})}),Object(b.jsxs)(\"div\",{className:d.a.control,onSubmit:i,children:[Object(b.jsx)(\"label\",{htmlFor:\"comment\",children:\"Your Comment\"}),Object(b.jsx)(\"textarea\",{id:\"comment\",rows:\"5\",ref:t})]}),Object(b.jsx)(\"div\",{className:d.a.actions,children:Object(b.jsx)(\"button\",{className:\"btn\",children:\"Add Comment\"})})]})},h=n(49),O=n.n(h),f=function(e){return Object(b.jsx)(\"li\",{className:O.a.item,children:Object(b.jsx)(\"p\",{children:e.text})})},p=n(50),N=n.n(p),_=function(e){return Object(b.jsx)(\"ul\",{className:N.a.comments,children:e.comments.map((function(e){return Object(b.jsx)(f,{text:e.text},e.id)}))})},v=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(o.j)(),m=Object(j.a)(l.c),d=m.sendRequest,h=m.status,O=m.data,f=a.quoteId;Object(c.useEffect)((function(){d(f)}),[f,d]);var p,N=Object(c.useCallback)((function(){d(f)}),[f,d]);return\"pending\"===h&&(p=Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(u.a,{})})),\"completed\"===h&&(p=Object(b.jsx)(_,{comments:O})),\"completed\"!==h||O&&0!==O.length||(p=Object(b.jsx)(\"p\",{className:\"centered\",children:\"No Comments Found.\"})),Object(b.jsxs)(\"section\",{className:i.a.comments,children:[Object(b.jsx)(\"h2\",{children:\"User Comments\"}),!n&&Object(b.jsx)(\"button\",{className:\"btn\",onClick:function(){s(!0)},children:\"Add a Comment\"}),n&&Object(b.jsx)(x,{quoteId:a.quoteId,onAddComment:N}),p]})},C=n(51),g=n.n(C),q=function(e){return Object(b.jsxs)(\"figure\",{className:g.a.quote,children:[Object(b.jsx)(\"p\",{children:e.text}),Object(b.jsx)(\"figcaption\",{children:e.author}),Object(b.jsx)(\"button\",{className:g.a.button,onClick:e.deletionHandler,children:\"Delete\"})]})},w=n(8),k=n(4),F=n.n(k),I=function(){var e=Object(w.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id},e.next=3,fetch(\"https://quotes-33a21-default-rtdb.firebaseio.com/deleted.json\",{method:\"POST\",body:JSON.stringify(n),headers:{\"Content-Type\":\"application/json\"}});case 3:if(e.sent.ok){e.next=6;break}throw new Error(\"Could not detele quote.\");case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=I;t.default=function(e){var t=Object(o.h)(),n=Object(o.k)(),r=Object(o.j)().quoteId,a=Object(j.a)(l.f,!0),i=a.sendRequest,m=a.status,d=a.data,x=a.error;if(Object(c.useEffect)((function(){i(r)}),[i,r]),\"pending\"===m)return Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(u.a,{})});if(x)return Object(b.jsx)(\"p\",{className:\"centered\",children:x});if(!d.text)return Object(b.jsx)(\"p\",{children:\"No Quote Found\"});return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(q,{text:d.text,author:d.author,id:d.id,deletionHandler:function(){console.log(\"delete\");var e={id:d.id};D(e),t.push(\"/new-quote\")}}),Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(o.c,{path:n.path,exact:!0,children:Object(b.jsx)(s.c,{className:\"btn--flat\",to:\"\".concat(n.url,\"/comments\"),children:\"Load Comments\"})})}),Object(b.jsxs)(o.c,{path:\"\".concat(n.path,\"/comments/\"),children:[Object(b.jsx)(v,{}),Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(s.c,{className:\"btn--flat\",to:\"\".concat(n.url),children:\"Hide Comments\"})})]})]})}}}]);","name":"static/js/3.8878eca0.chunk.js","map":{"version":3,"sources":["static/js/3.8878eca0.chunk.js"],"names":["this","push","module","exports","__webpack_require__","comments","form","loading","control","actions","item","quote","button","__webpack_exports__","r","react","react_router","react_router_dom","slicedToArray","Comments_module","Comments_module_default","n","NewCommentForm_module","NewCommentForm_module_default","LoadingSpinner","use_http","api","jsx_runtime","comments_NewCommentForm","props","commentTextRef","Object","_useHttp","sendRequest","status","error","onAddComment","submitFormHandler","event","preventDefault","EnteredText","current","value","commentData","text","quoteId","className","a","onSubmit","children","htmlFor","id","rows","ref","CommentItem_module","CommentItem_module_default","comments_CommentItem","CommentsList_module","CommentsList_module_default","comments_CommentsList","map","comment","comments_Comments","_useState","_useState2","isAddingComment","setIsAddingComment","params","loadedComments","data","addedCommentsHandler","length","onClick","HighlightedQuote_module","HighlightedQuote_module_default","quotes_HighlightedQuote","author","deletionHandler","asyncToGenerator","regenerator","regenerator_default","DeleteQuote","_ref","mark","_callee","quotes","wrap","_context","prev","next","fetch","method","body","JSON","stringify","headers","sent","ok","Error","stop","_x","apply","arguments","quotes_DeleteQuote","history","match","loadedQuote","console","log","path","exact","to","concat","url"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[3],{\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"Comments_comments__iZX-v\"};\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewCommentForm_form__2Te8b\",\"loading\":\"NewCommentForm_loading__2veC2\",\"control\":\"NewCommentForm_control__3NVeP\",\"actions\":\"NewCommentForm_actions__2fwWP\"};\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CommentItem_item__24mbD\"};\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsList_comments__valp0\"};\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"quote\":\"HighlightedQuote_quote__nE9T6\",\"button\":\"HighlightedQuote_button__3iDRk\"};\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./src/components/comments/Comments.module.css\nvar Comments_module = __webpack_require__(47);\nvar Comments_module_default = /*#__PURE__*/__webpack_require__.n(Comments_module);\n\n// EXTERNAL MODULE: ./src/components/comments/NewCommentForm.module.css\nvar NewCommentForm_module = __webpack_require__(48);\nvar NewCommentForm_module_default = /*#__PURE__*/__webpack_require__.n(NewCommentForm_module);\n\n// EXTERNAL MODULE: ./src/components/UI/LoadingSpinner.js\nvar LoadingSpinner = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/components/hooks/use-http.js\nvar use_http = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./src/components/lib/api.js\nvar api = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/comments/NewCommentForm.js\nvar NewCommentForm_NewCommentForm=function NewCommentForm(props){var commentTextRef=Object(react[\"useRef\"])();var _useHttp=Object(use_http[\"a\" /* default */])(api[\"a\" /* addComment */]),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;var onAddComment=props.onAddComment;Object(react[\"useEffect\"])(function(){if(status===\"completed\"&&!error){onAddComment();}},[status,onAddComment,error]);var submitFormHandler=function submitFormHandler(event){event.preventDefault();var EnteredText=commentTextRef.current.value;sendRequest({commentData:{text:EnteredText},quoteId:props.quoteId});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:NewCommentForm_module_default.a.form,onSubmit:submitFormHandler,children:[status===\"pending\"&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingSpinner[\"a\" /* default */],{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:NewCommentForm_module_default.a.control,onSubmit:submitFormHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"comment\",children:\"Your Comment\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{id:\"comment\",rows:\"5\",ref:commentTextRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:NewCommentForm_module_default.a.actions,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",children:\"Add Comment\"})})]});};/* harmony default export */ var comments_NewCommentForm = (NewCommentForm_NewCommentForm);\n// EXTERNAL MODULE: ./src/components/comments/CommentItem.module.css\nvar CommentItem_module = __webpack_require__(49);\nvar CommentItem_module_default = /*#__PURE__*/__webpack_require__.n(CommentItem_module);\n\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.js\nvar CommentItem_CommentItem=function CommentItem(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:CommentItem_module_default.a.item,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:props.text})});};/* harmony default export */ var comments_CommentItem = (CommentItem_CommentItem);\n// EXTERNAL MODULE: ./src/components/comments/CommentsList.module.css\nvar CommentsList_module = __webpack_require__(50);\nvar CommentsList_module_default = /*#__PURE__*/__webpack_require__.n(CommentsList_module);\n\n// CONCATENATED MODULE: ./src/components/comments/CommentsList.js\nvar CommentsList_CommentsList=function CommentsList(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:CommentsList_module_default.a.comments,children:props.comments.map(function(comment){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comments_CommentItem,{text:comment.text},comment.id);})});};/* harmony default export */ var comments_CommentsList = (CommentsList_CommentsList);\n// CONCATENATED MODULE: ./src/components/comments/Comments.js\nvar Comments_Comments=function Comments(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isAddingComment=_useState2[0],setIsAddingComment=_useState2[1];var params=Object(react_router[\"j\" /* useParams */])();var _useHttp=Object(use_http[\"a\" /* default */])(api[\"c\" /* getAllComments */]),sendRequest=_useHttp.sendRequest,status=_useHttp.status,loadedComments=_useHttp.data;var quoteId=params.quoteId;Object(react[\"useEffect\"])(function(){sendRequest(quoteId);},[quoteId,sendRequest]);var startAddCommentHandler=function startAddCommentHandler(){setIsAddingComment(true);};var addedCommentsHandler=Object(react[\"useCallback\"])(function(){sendRequest(quoteId);},[quoteId,sendRequest]);var comments;if(status===\"pending\"){comments=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingSpinner[\"a\" /* default */],{})});}if(status===\"completed\"){comments=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comments_CommentsList,{comments:loadedComments});}if(status===\"completed\"&&(!loadedComments||loadedComments.length===0)){comments=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"centered\",children:\"No Comments Found.\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:Comments_module_default.a.comments,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Comments\"}),!isAddingComment&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",onClick:startAddCommentHandler,children:\"Add a Comment\"}),isAddingComment&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comments_NewCommentForm,{quoteId:params.quoteId,onAddComment:addedCommentsHandler}),comments]});};/* harmony default export */ var comments_Comments = (Comments_Comments);\n// EXTERNAL MODULE: ./src/components/quotes/HighlightedQuote.module.css\nvar HighlightedQuote_module = __webpack_require__(51);\nvar HighlightedQuote_module_default = /*#__PURE__*/__webpack_require__.n(HighlightedQuote_module);\n\n// CONCATENATED MODULE: ./src/components/quotes/HighlightedQuote.js\nvar HighlightedQuote_HighlightedQuote=function HighlightedQuote(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"figure\",{className:HighlightedQuote_module_default.a.quote,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:props.text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"figcaption\",{children:props.author}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:HighlightedQuote_module_default.a.button,onClick:props.deletionHandler,children:\"Delete\"})]});};/* harmony default export */ var quotes_HighlightedQuote = (HighlightedQuote_HighlightedQuote);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// CONCATENATED MODULE: ./src/components/quotes/DeleteQuote.js\nvar DeleteQuote=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(props){var quotes,responce;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:quotes={id:props.id};_context.next=3;return fetch(\"https://quotes-33a21-default-rtdb.firebaseio.com/deleted.json\",{method:\"POST\",body:JSON.stringify(quotes),headers:{\"Content-Type\":\"application/json\"}});case 3:responce=_context.sent;if(responce.ok){_context.next=6;break;}throw new Error(\"Could not detele quote.\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function DeleteQuote(_x){return _ref.apply(this,arguments);};}();/* harmony default export */ var quotes_DeleteQuote = (DeleteQuote);\n// CONCATENATED MODULE: ./src/pages/QuoteDetails.js\nvar QuoteDetails_QuoteDetails=function QuoteDetails(props){var history=Object(react_router[\"h\" /* useHistory */])();var match=Object(react_router[\"k\" /* useRouteMatch */])();var params=Object(react_router[\"j\" /* useParams */])();var quoteId=params.quoteId;var _useHttp=Object(use_http[\"a\" /* default */])(api[\"f\" /* getSingleQuote */],true),sendRequest=_useHttp.sendRequest,status=_useHttp.status,loadedQuote=_useHttp.data,error=_useHttp.error;Object(react[\"useEffect\"])(function(){sendRequest(quoteId);},[sendRequest,quoteId]);if(status===\"pending\"){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingSpinner[\"a\" /* default */],{})});}if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"centered\",children:error});}if(!loadedQuote.text){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No Quote Found\"});}var deletionHandler=function deletionHandler(){console.log(\"delete\");var data={id:loadedQuote.id};quotes_DeleteQuote(data);history.push(\"/new-quote\");};// console.log(props.quotes);\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(quotes_HighlightedQuote,{text:loadedQuote.text,author:loadedQuote.author,id:loadedQuote.id,deletionHandler:deletionHandler}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"c\" /* Route */],{path:match.path,exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{className:\"btn--flat\",to:\"\".concat(match.url,\"/comments\"),children:\"Load Comments\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Route */],{path:\"\".concat(match.path,\"/comments/\"),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comments_Comments,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{className:\"btn--flat\",to:\"\".concat(match.url),children:\"Hide Comments\"})})]})]});};/* harmony default export */ var pages_QuoteDetails = __webpack_exports__[\"default\"] = (QuoteDetails_QuoteDetails);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/Comments.module.css","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/NewCommentForm.module.css","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/CommentItem.module.css","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/CommentsList.module.css","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/quotes/HighlightedQuote.module.css","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/NewCommentForm.js","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/CommentItem.js","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/CommentsList.js","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/comments/Comments.js","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/quotes/HighlightedQuote.js","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/components/quotes/DeleteQuote.js","/Users/shivamgulia/Developer/React js/Routing/09-time-to-practice-starting-code/src/pages/QuoteDetails.js"],"names":["NewCommentForm","props","commentTextRef","useRef","useHttp","addComment","sendRequest","status","error","onAddComment","useEffect","submitFormHandler","event","preventDefault","EnteredText","current","value","commentData","text","quoteId","classes","form","control","actions","CommentItem","item","CommentsList","comments","map","comment","id","Comments","useState","isAddingComment","setIsAddingComment","params","useParams","getAllComments","loadedComments","data","startAddCommentHandler","addedCommentsHandler","useCallback","length","HighlightedQuote","quote","author","button","deletionHandler","DeleteQuote","quotes","fetch","method","body","JSON","stringify","headers","responce","ok","Error","QuoteDetails","history","useHistory","match","useRouteMatch","getSingleQuote","loadedQuote","console","log","push","path","url"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"Comments_comments__iZX-v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewCommentForm_form__2Te8b\",\"loading\":\"NewCommentForm_loading__2veC2\",\"control\":\"NewCommentForm_control__3NVeP\",\"actions\":\"NewCommentForm_actions__2fwWP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CommentItem_item__24mbD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsList_comments__valp0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"quote\":\"HighlightedQuote_quote__nE9T6\",\"button\":\"HighlightedQuote_button__3iDRk\"};","import { useRef, useEffect } from \"react\";\n\nimport classes from \"./NewCommentForm.module.css\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport useHttp from \"../hooks/use-http\";\nimport { addComment } from \"../lib/api\";\n\nconst NewCommentForm = (props) => {\n  const commentTextRef = useRef();\n  const { sendRequest, status, error } = useHttp(addComment);\n\n  const { onAddComment } = props;\n\n  useEffect(() => {\n    if (status === \"completed\" && !error) {\n      onAddComment();\n    }\n  }, [status, onAddComment, error]);\n\n  const submitFormHandler = (event) => {\n    event.preventDefault();\n\n    const EnteredText = commentTextRef.current.value;\n    sendRequest({ commentData: { text: EnteredText }, quoteId: props.quoteId });\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitFormHandler}>\n      {status === \"pending\" && (\n        <div className=\"centered\">\n          <LoadingSpinner />\n        </div>\n      )}\n      <div className={classes.control} onSubmit={submitFormHandler}>\n        <label htmlFor=\"comment\">Your Comment</label>\n        <textarea id=\"comment\" rows=\"5\" ref={commentTextRef}></textarea>\n      </div>\n      <div className={classes.actions}>\n        <button className=\"btn\">Add Comment</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewCommentForm;\n","import classes from './CommentItem.module.css';\n\nconst CommentItem = (props) => {\n  return (\n    <li className={classes.item}>\n      <p>{props.text}</p>\n    </li>\n  );\n};\n\nexport default CommentItem;\n","import CommentItem from './CommentItem';\nimport classes from './CommentsList.module.css';\n\nconst CommentsList = (props) => {\n  return (\n    <ul className={classes.comments}>\n      {props.comments.map((comment) => (\n        <CommentItem key={comment.id} text={comment.text} />\n      ))}\n    </ul>\n  );\n};\n\nexport default CommentsList;\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport classes from \"./Comments.module.css\";\nimport NewCommentForm from \"./NewCommentForm\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport CommentsList from \"./CommentsList\";\nimport useHttp from \"../../components/hooks/use-http\";\nimport { getAllComments } from \"../lib/api\";\n\nconst Comments = () => {\n  const [isAddingComment, setIsAddingComment] = useState(false);\n  const params = useParams();\n  const { sendRequest, status, data: loadedComments } = useHttp(getAllComments);\n\n  const quoteId = params.quoteId;\n\n  useEffect(() => {\n    sendRequest(quoteId);\n  }, [quoteId, sendRequest]);\n\n  const startAddCommentHandler = () => {\n    setIsAddingComment(true);\n  };\n\n  const addedCommentsHandler = useCallback(() => {\n    sendRequest(quoteId);\n  }, [quoteId, sendRequest]);\n\n  let comments;\n  if (status === \"pending\") {\n    comments = (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (status === \"completed\") {\n    comments = <CommentsList comments={loadedComments} />;\n  }\n  if (\n    status === \"completed\" &&\n    (!loadedComments || loadedComments.length === 0)\n  ) {\n    comments = <p className=\"centered\">No Comments Found.</p>;\n  }\n\n  return (\n    <section className={classes.comments}>\n      <h2>User Comments</h2>\n      {!isAddingComment && (\n        <button className=\"btn\" onClick={startAddCommentHandler}>\n          Add a Comment\n        </button>\n      )}\n      {isAddingComment && (\n        <NewCommentForm\n          quoteId={params.quoteId}\n          onAddComment={addedCommentsHandler}\n        />\n      )}\n      {comments}\n    </section>\n  );\n};\n\nexport default Comments;\n","import classes from \"./HighlightedQuote.module.css\";\n\nconst HighlightedQuote = (props) => {\n  return (\n    <figure className={classes.quote}>\n      <p>{props.text}</p>\n      <figcaption>{props.author}</figcaption>\n      <button className={classes.button} onClick={props.deletionHandler}>\n        Delete\n      </button>\n    </figure>\n  );\n};\n\nexport default HighlightedQuote;\n","const DeleteQuote = async (props) => {\n  const quotes = { id: props.id };\n  const responce = await fetch(\n    \"https://quotes-33a21-default-rtdb.firebaseio.com/deleted.json\",\n    {\n      method: \"POST\",\n      body: JSON.stringify(quotes),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  );\n\n  if (!responce.ok) {\n    throw new Error(\"Could not detele quote.\");\n  }\n};\n\nexport default DeleteQuote;\n","import { Fragment, useEffect } from \"react\";\nimport {\n  useParams,\n  Route,\n  NavLink,\n  useRouteMatch,\n  useHistory,\n} from \"react-router-dom\";\n\nimport Comments from \"../components/comments/Comments\";\nimport HighlightedQuote from \"../components/quotes/HighlightedQuote\";\nimport DeleteQuote from \"../components/quotes/DeleteQuote\";\nimport useHttp from \"../components/hooks/use-http\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\nimport { getSingleQuote } from \"../components/lib/api\";\n\nconst QuoteDetails = (props) => {\n  const history = useHistory();\n  const match = useRouteMatch();\n  const params = useParams();\n  const { quoteId } = params;\n  const {\n    sendRequest,\n    status,\n    data: loadedQuote,\n    error,\n  } = useHttp(getSingleQuote, true);\n\n  useEffect(() => {\n    sendRequest(quoteId);\n  }, [sendRequest, quoteId]);\n\n  if (status === \"pending\") {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  if (!loadedQuote.text) {\n    return <p>No Quote Found</p>;\n  }\n\n  const deletionHandler = () => {\n    console.log(\"delete\");\n    const data = { id: loadedQuote.id };\n    DeleteQuote(data);\n    history.push(\"/new-quote\");\n  };\n  // console.log(props.quotes);\n\n  return (\n    <Fragment>\n      <HighlightedQuote\n        text={loadedQuote.text}\n        author={loadedQuote.author}\n        id={loadedQuote.id}\n        deletionHandler={deletionHandler}\n      />\n      <div className=\"centered\">\n        <Route path={match.path} exact>\n          <NavLink className=\"btn--flat\" to={`${match.url}/comments`}>\n            Load Comments\n          </NavLink>\n        </Route>\n      </div>\n      <Route path={`${match.path}/comments/`}>\n        <Comments />\n        <div className=\"centered\">\n          <NavLink className=\"btn--flat\" to={`${match.url}`}>\n            Hide Comments\n          </NavLink>\n        </div>\n      </Route>\n    </Fragment>\n  );\n};\n\nexport default QuoteDetails;\n"]}}