{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[7],{72:function(e,t,c){e.exports={auth:\"AddStudentForm_auth__h7mok\",control:\"AddStudentForm_control__2g9qK\",actions:\"AddStudentForm_actions__u4M92\",toggle:\"AddStudentForm_toggle__29Mvf\"}},77:function(e,t,c){\"use strict\";c.r(t);var n=c(2),s=c(1),a=c(70),i=c(71),r=c(5),o=c(65),l=c(4),d=c(9),u=c(10),j=c(6),b=c(72),O=c.n(b),h=c(0),m=function(e){console.log(e);var t=Object(s.useContext)(r.b),c=Object(s.useRef)(),a=Object(l.g)(),i=Object(s.useState)(!1),b=Object(n.a)(i,2),m=b[0],p=b[1],x=Object(s.useState)(!1),f=Object(n.a)(x,2),g=f[0],v=f[1],S=Object(s.useState)(!1),N=Object(n.a)(S,2),_=N[0],A=N[1],k=Object(d.a)(u.b,!1),w=k.sendRequest,y=k.status,q=k.error;if(\"pending\"===y)return Object(h.jsx)(\"div\",{className:\"centered\",children:Object(h.jsx)(j.a,{})});if(q)return Object(h.jsx)(\"p\",{className:\"centered\",children:q});return Object(h.jsxs)(\"section\",{className:O.a.auth,children:[Object(h.jsx)(\"h1\",{children:\"Add Student\"}),Object(h.jsxs)(\"form\",{onSubmit:function(n){n.preventDefault(),_?(v(!0),w({student:{name:e.user.name,rollno:\"100\",branch:\"user\",role:\"student\",email:e.user.email,password:c.current.value},token:t.token}),v(!1),a.pushState(\"/auth\")):alert(\"Verify that you are a human\")},children:[Object(h.jsxs)(\"div\",{className:O.a.control,children:[Object(h.jsx)(\"label\",{htmlFor:\"Name\",children:\"Student Name\"}),Object(h.jsx)(\"input\",{type:\"Name\",id:\"Name\",required:!0,value:e.user.name,readOnly:!0})]}),Object(h.jsxs)(\"div\",{className:O.a.control,children:[Object(h.jsx)(\"label\",{htmlFor:\"email\",children:\"Email\"}),Object(h.jsx)(\"input\",{type:\"userName\",id:\"userName\",required:!0,value:e.user.email,readOnly:!0})]}),Object(h.jsxs)(\"div\",{className:O.a.control,children:[Object(h.jsx)(\"label\",{htmlFor:\"password\",children:\"Password\"}),Object(h.jsx)(\"input\",{type:m?\"text\":\"password\",id:\"password\",required:!0,ref:c})]}),Object(h.jsx)(\"input\",{type:\"checkbox\",onClick:function(){m&&p(!1),m||p(!0)}}),\" Show Password\",Object(h.jsx)(\"div\",{children:Object(h.jsx)(o.a,{sitekey:\"6LcU0VQjAAAAAHdKzj2Ub7RAbfQCf6QXbgOif9Le\",onChange:function(){A(!0)}})}),Object(h.jsxs)(\"div\",{className:O.a.actions,children:[!g&&Object(h.jsx)(\"button\",{children:\"Create Account\"}),g&&Object(h.jsx)(\"p\",{children:\"Sending Request....\"})]})]})]})},p=\"796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com\";t.default=function(){var e=Object(s.useState)(!1),t=Object(n.a)(e,2),c=t[0],r=t[1],o=Object(s.useState)({}),l=Object(n.a)(o,2),d=l[0],u=l[1];Object(s.useEffect)((function(){i.a.load(\"client:auth2\",(function(){i.a.client.init({clientId:p,scope:\"\"})}))}));return Object(h.jsxs)(\"div\",{children:[!c&&Object(h.jsx)(\"div\",{className:\"centered\",children:Object(h.jsx)(a.GoogleLogin,{clientId:p,buttonText:\"Sign in with Google\",onSuccess:function(e){u(e),r(!0)},cookiePolicy:\"single_host_origin\",isSignedIn:!0})}),c&&Object(h.jsx)(\"div\",{children:Object(h.jsx)(m,{user:d.profileObj})})]})}}}]);","name":"static/js/7.f9c7cb83.chunk.js","map":{"version":3,"sources":["static/js/7.f9c7cb83.chunk.js"],"names":["this","push","module","exports","__webpack_require__","auth","control","actions","toggle","__webpack_exports__","r","slicedToArray","react","google_login","gapi_script","auth_context","esm","react_router","use_http","api","LoadingSpinner","AddStudentForm_module","AddStudentForm_module_default","n","jsx_runtime","auth_AddStudentForm","props","console","log","authCtx","Object","passwordRef","history","_useState","_useState2","showPassword","setShowPassword","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isVerified","setIsVerified","_useHttp","sendRequest","status","error","className","children","a","onSubmit","event","preventDefault","student","name","user","rollno","branch","role","email","password","current","value","token","pushState","alert","htmlFor","type","id","required","readOnly","ref","onClick","sitekey","onChange","clientId","initialSignup","setInitialSignup","setUser","load","client","init","scope","buttonText","onSuccess","response","cookiePolicy","isSignedIn","profileObj"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[7],{\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AddStudentForm_auth__h7mok\",\"control\":\"AddStudentForm_control__2g9qK\",\"actions\":\"AddStudentForm_actions__u4M92\",\"toggle\":\"AddStudentForm_toggle__29Mvf\"};\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-google-login/dist/google-login.js\nvar google_login = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/gapi-script/index.js\nvar gapi_script = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./src/store/auth-context.js\nvar auth_context = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-google-recaptcha/lib/esm/index.js + 3 modules\nvar esm = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/components/hooks/use-http.js\nvar use_http = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/components/lib/api.js\nvar api = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/UI/LoadingSpinner.js\nvar LoadingSpinner = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/components/auth/AddStudentForm.module.css\nvar AddStudentForm_module = __webpack_require__(72);\nvar AddStudentForm_module_default = /*#__PURE__*/__webpack_require__.n(AddStudentForm_module);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/auth/AddStudentForm.js\nvar AddStudentForm_AddStudentForm=function AddStudentForm(props){console.log(props);var authCtx=Object(react[\"useContext\"])(auth_context[\"b\" /* default */]);var passwordRef=Object(react[\"useRef\"])();var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isVerified=_useState6[0],setIsVerified=_useState6[1];var _useHttp=Object(use_http[\"a\" /* default */])(api[\"b\" /* addStudent */],false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;// console.log(JSON.stringify(props.user));\nvar onChange=function onChange(){setIsVerified(true);};var toggleShowPassword=function toggleShowPassword(){if(showPassword)setShowPassword(false);if(!showPassword)setShowPassword(true);};if(status==='pending'){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingSpinner[\"a\" /* default */],{})});}if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"centered\",children:error});}var submitionHandler=function submitionHandler(event){event.preventDefault();if(isVerified){setIsLoading(true);sendRequest({student:{name:props.user.name,rollno:'100',branch:'user',role:'student',email:props.user.email,password:passwordRef.current.value},token:authCtx.token});setIsLoading(false);// console.log({\n//   name: nameRef.current.value,\n//   rollno: rollnoRef.current.value,\n//   branch: branchRef.current.value,\n//   email: emailRef.current.value,\n//   role: 'student',\n//   password: passwordRef.current.value,\n// });\nhistory.pushState('/auth');}else{alert('Verify that you are a human');}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:AddStudentForm_module_default.a.auth,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Add Student\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitionHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"Name\",children:\"Student Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"Name\",id:\"Name\",required:true,value:props.user.name,readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"userName\",id:\"userName\",required:true,value:props.user.email,readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:showPassword?'text':'password',id:\"password\",required:true,ref:passwordRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onClick:toggleShowPassword}),\" Show Password\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"a\" /* default */],{sitekey:\"6LcU0VQjAAAAAHdKzj2Ub7RAbfQCf6QXbgOif9Le\",onChange:onChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.actions,children:[!isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Create Account\"}),isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Sending Request....\"})]})]})]});};/* harmony default export */ var auth_AddStudentForm = (AddStudentForm_AddStudentForm);\n// CONCATENATED MODULE: ./src/pages/Signup.js\n// import { useEffect, useState } from 'react';\n// import jwt_decode from 'jwt-decode';\n// import AddStudentForm from '../components/auth/AddStudentForm';\n// const Signup = () => {\n//   const [initialSignup, setInitialSignup] = useState(false);\n//   const [user, setUser] = useState({});\n//   useEffect(() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id:\n//         '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com',\n//       callback: handleCallbackResponse,\n//     });\n//     google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n//       theme: 'outline',\n//       size: 'large',\n//     });\n//   });\n//   const handleCallbackResponse = (response) => {\n//     var userObject = jwt_decode(response.credential);\n//     document.getElementById('signupDiv').hidden = true;\n//     // console.log(userObject);\n//     if (userObject.email.includes('@hbtu.ac.in')) {\n//       setUser(userObject);\n//       // console.log(user);\n//       setInitialSignup(true);\n//     } else {\n//       alert('Not a HBTU Id');\n//       throw Error('Not a HBTU Id');\n//     }\n//   };\n//   return (\n//     <div>\n//       {!initialSignup && (\n//         <div className=\"centered\">\n//           <div id=\"signupDiv\"></div>\n//         </div>\n//       )}\n//       {initialSignup && (\n//         <div>\n//           <AddStudentForm user={user} />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n// export default Signup;\nvar clientId='796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com';var Signup_Signup=function Signup(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),initialSignup=_useState2[0],setInitialSignup=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),user=_useState4[0],setUser=_useState4[1];Object(react[\"useEffect\"])(function(){var initClient=function initClient(){gapi_script[\"a\" /* gapi */].client.init({clientId:clientId,scope:''});};gapi_script[\"a\" /* gapi */].load('client:auth2',initClient);});var handleCallbackResponse=function handleCallbackResponse(response){var userObject=response;// console.log(userObject);\nsetUser(userObject);setInitialSignup(true);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[!initialSignup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(google_login[\"GoogleLogin\"],{clientId:clientId,buttonText:\"Sign in with Google\",onSuccess:handleCallbackResponse,cookiePolicy:'single_host_origin',isSignedIn:true})}),initialSignup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_AddStudentForm,{user:user.profileObj})})]});};/* harmony default export */ var pages_Signup = __webpack_exports__[\"default\"] = (Signup_Signup);// const Signup = () => {\n//   useEffect(() => {\n//     const initClient = () => {\n//       gapi.client.init({\n//         clientId: clientId,\n//         scope: '',\n//       });\n//     };\n//     gapi.load('client:auth2', initClient);\n//   });\n//   const onSuccess = (res) => {\n//     console.log('success:', res);\n//   };\n//   const onFailure = (err) => {\n//     console.log('failed:', err);\n//   };\n//   return (\n//     <GoogleLogin\n//       clientId={clientId}\n//       buttonText=\"Sign in with Google\"\n//       onSuccess={onSuccess}\n//       onFailure={onFailure}\n//       cookiePolicy={'single_host_origin'}\n//       isSignedIn={true}\n//     />\n//   );\n// };\n// export default Signup;\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AddStudentForm.module.css","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AddStudentForm.js","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Signup.js"],"names":["AddStudentForm","props","console","log","authCtx","useContext","AuthContext","passwordRef","useRef","history","useHistory","useState","showPassword","setShowPassword","isLoading","setIsLoading","isVerified","setIsVerified","useHttp","addStudent","sendRequest","status","error","onChange","toggleShowPassword","submitionHandler","event","preventDefault","student","name","user","rollno","branch","role","email","password","current","value","token","pushState","alert","classes","auth","control","actions","clientId","Signup","initialSignup","setInitialSignup","setUser","useEffect","initClient","gapi","client","init","scope","load","handleCallbackResponse","response","userObject","profileObj"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AddStudentForm_auth__h7mok\",\"control\":\"AddStudentForm_control__2g9qK\",\"actions\":\"AddStudentForm_actions__u4M92\",\"toggle\":\"AddStudentForm_toggle__29Mvf\"};","import { useContext, useRef, useState } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport { useHistory } from 'react-router-dom';\n\nimport useHttp from '../hooks/use-http';\nimport { addStudent } from '../lib/api';\nimport LoadingSpinner from '../UI/LoadingSpinner';\n\nimport classes from './AddStudentForm.module.css';\n\nconst AddStudentForm = (props) => {\n  console.log(props);\n  const authCtx = useContext(AuthContext);\n  const passwordRef = useRef();\n  const history = useHistory();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isVerified, setIsVerified] = useState(false);\n\n  const { sendRequest, status, error } = useHttp(addStudent, false);\n\n  // console.log(JSON.stringify(props.user));\n\n  const onChange = () => {\n    setIsVerified(true);\n  };\n\n  const toggleShowPassword = () => {\n    if (showPassword) setShowPassword(false);\n    if (!showPassword) setShowPassword(true);\n  };\n\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n    if (isVerified) {\n      setIsLoading(true);\n      sendRequest({\n        student: {\n          name: props.user.name,\n          rollno: '100',\n          branch: 'user',\n          role: 'student',\n          email: props.user.email,\n          password: passwordRef.current.value,\n        },\n        token: authCtx.token,\n      });\n      setIsLoading(false);\n      // console.log({\n      //   name: nameRef.current.value,\n      //   rollno: rollnoRef.current.value,\n      //   branch: branchRef.current.value,\n      //   email: emailRef.current.value,\n      //   role: 'student',\n      //   password: passwordRef.current.value,\n      // });\n      history.pushState('/auth');\n    } else {\n      alert('Verify that you are a human');\n    }\n  };\n  return (\n    <section className={classes.auth}>\n      <h1>Add Student</h1>\n      <form onSubmit={submitionHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"Name\">Student Name</label>\n          <input\n            type=\"Name\"\n            id=\"Name\"\n            required\n            value={props.user.name}\n            readOnly\n          />\n        </div>\n        {/* <div className={classes.control}>\n          <label htmlFor=\"rollno\">Student Roll Number</label>\n          <input\n            type=\"rollno\"\n            id=\"rollno\"\n            required\n            value={props.user.email.substring(0, 9)}\n            readOnly\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"branch\">Branch</label>\n          <input\n            type=\"branch\"\n            id=\"branch\"\n            required\n            value={props.user.email.substring(5, 7)}\n            readOnly\n          />\n        </div> */}\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"userName\"\n            id=\"userName\"\n            required\n            value={props.user.email}\n            readOnly\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type={showPassword ? 'text' : 'password'}\n            id=\"password\"\n            required\n            ref={passwordRef}\n          />\n        </div>\n        <input type=\"checkbox\" onClick={toggleShowPassword} /> Show Password\n        <div>\n          {/* <Recaptcha\n            sitekey=\"6LfOzVQjAAAAACIJVTM3w4iuAePfdEloNCQvRhj-\"\n            render=\"explicit\"\n            verifyCallback={verifyCallback}\n            onloadCallback={load}\n          /> */}\n          <ReCAPTCHA\n            sitekey=\"6LcU0VQjAAAAAHdKzj2Ub7RAbfQCf6QXbgOif9Le\"\n            onChange={onChange}\n          />\n        </div>\n        <div className={classes.actions}>\n          {!isLoading && <button>Create Account</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default AddStudentForm;\n","// import { useEffect, useState } from 'react';\n// import jwt_decode from 'jwt-decode';\n// import AddStudentForm from '../components/auth/AddStudentForm';\n\n// const Signup = () => {\n//   const [initialSignup, setInitialSignup] = useState(false);\n//   const [user, setUser] = useState({});\n\n//   useEffect(() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id:\n//         '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com',\n//       callback: handleCallbackResponse,\n//     });\n//     google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n//       theme: 'outline',\n//       size: 'large',\n//     });\n//   });\n//   const handleCallbackResponse = (response) => {\n//     var userObject = jwt_decode(response.credential);\n//     document.getElementById('signupDiv').hidden = true;\n//     // console.log(userObject);\n\n//     if (userObject.email.includes('@hbtu.ac.in')) {\n//       setUser(userObject);\n//       // console.log(user);\n\n//       setInitialSignup(true);\n//     } else {\n//       alert('Not a HBTU Id');\n//       throw Error('Not a HBTU Id');\n//     }\n//   };\n\n//   return (\n//     <div>\n//       {!initialSignup && (\n//         <div className=\"centered\">\n//           <div id=\"signupDiv\"></div>\n//         </div>\n//       )}\n//       {initialSignup && (\n//         <div>\n//           <AddStudentForm user={user} />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Signup;\n\nimport { useEffect, useState } from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { gapi } from 'gapi-script';\n\nimport AddStudentForm from '../components/auth/AddStudentForm';\n\nconst clientId =\n  '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com';\n\nconst Signup = () => {\n  const [initialSignup, setInitialSignup] = useState(false);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    const initClient = () => {\n      gapi.client.init({\n        clientId: clientId,\n        scope: '',\n      });\n    };\n    gapi.load('client:auth2', initClient);\n  });\n\n  const handleCallbackResponse = (response) => {\n    const userObject = response;\n    // console.log(userObject);\n    setUser(userObject);\n    setInitialSignup(true);\n  };\n\n  return (\n    <div>\n      {!initialSignup && (\n        <div className=\"centered\">\n          <GoogleLogin\n            clientId={clientId}\n            buttonText=\"Sign in with Google\"\n            onSuccess={handleCallbackResponse}\n            cookiePolicy={'single_host_origin'}\n            isSignedIn={true}\n          />\n        </div>\n      )}\n      {initialSignup && (\n        <div>\n          <AddStudentForm user={user.profileObj} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Signup;\n\n// const Signup = () => {\n\n//   useEffect(() => {\n//     const initClient = () => {\n//       gapi.client.init({\n//         clientId: clientId,\n//         scope: '',\n//       });\n//     };\n//     gapi.load('client:auth2', initClient);\n//   });\n//   const onSuccess = (res) => {\n//     console.log('success:', res);\n//   };\n//   const onFailure = (err) => {\n//     console.log('failed:', err);\n//   };\n\n//   return (\n//     <GoogleLogin\n//       clientId={clientId}\n//       buttonText=\"Sign in with Google\"\n//       onSuccess={onSuccess}\n//       onFailure={onFailure}\n//       cookiePolicy={'single_host_origin'}\n//       isSignedIn={true}\n//     />\n//   );\n// };\n\n// export default Signup;\n"]}}