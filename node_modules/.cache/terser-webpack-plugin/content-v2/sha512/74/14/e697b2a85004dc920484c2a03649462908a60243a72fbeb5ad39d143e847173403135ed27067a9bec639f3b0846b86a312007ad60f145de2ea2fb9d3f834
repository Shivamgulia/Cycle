{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[6],{69:function(e,t,c){e.exports={auth:\"AddStudentForm_auth__h7mok\",control:\"AddStudentForm_control__2g9qK\",actions:\"AddStudentForm_actions__u4M92\",toggle:\"AddStudentForm_toggle__29Mvf\"}},74:function(e,t,c){\"use strict\";c.r(t);var s=c(2),n=c(1),r=c(26),a=c(5),i=c(9),d=c(10),l=c(6),o=c(69),u=c.n(o),j=c(0),b=function(e){var t=Object(n.useContext)(a.b),c=Object(n.useRef)(),r=Object(n.useState)(!1),o=Object(s.a)(r,2),b=o[0],m=o[1],O=Object(n.useState)(!1),h=Object(s.a)(O,2),p=h[0],x=h[1],v=Object(i.a)(d.b,!1),g=v.sendRequest,f=v.status,N=v.error;if(\"pending\"===f)return Object(j.jsx)(\"div\",{className:\"centered\",children:Object(j.jsx)(l.a,{})});if(N)return Object(j.jsx)(\"p\",{className:\"centered\",children:N});return Object(j.jsxs)(\"section\",{className:u.a.auth,children:[Object(j.jsx)(\"h1\",{children:\"Add Student\"}),Object(j.jsxs)(\"form\",{onSubmit:function(s){s.preventDefault(),x(!0),g({student:{name:e.user.given_name,rollno:e.user.email.substring(0,9),branch:e.user.email.substring(5,7),role:\"student\",email:e.user.email,password:c.current.value},token:t.token}),x(!1)},children:[Object(j.jsxs)(\"div\",{className:u.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"Name\",children:\"Student Name\"}),Object(j.jsx)(\"input\",{type:\"Name\",id:\"Name\",required:!0,value:e.user.given_name,readOnly:!0})]}),Object(j.jsxs)(\"div\",{className:u.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"email\",children:\"Email\"}),Object(j.jsx)(\"input\",{type:\"userName\",id:\"userName\",required:!0,value:e.user.email,readOnly:!0})]}),Object(j.jsxs)(\"div\",{className:u.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"password\",children:\"Password\"}),Object(j.jsx)(\"input\",{type:b?\"text\":\"password\",id:\"password\",required:!0,ref:c})]}),Object(j.jsx)(\"input\",{type:\"checkbox\",onClick:function(){b&&m(!1),b||m(!0)}}),\" Show Password\",Object(j.jsxs)(\"div\",{className:u.a.actions,children:[!p&&Object(j.jsx)(\"button\",{children:\"Create Account\"}),p&&Object(j.jsx)(\"p\",{children:\"Sending Request....\"})]})]})]})};t.default=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)({}),d=Object(s.a)(i,2),l=d[0],o=d[1];Object(n.useEffect)((function(){google.accounts.id.initialize({client_id:\"622560773772-iifqp88cithvc1osdp9d03126cvv0d9s.apps.googleusercontent.com\",callback:u}),google.accounts.id.renderButton(document.getElementById(\"signupDiv\"),{theme:\"outline\",size:\"large\"})}));var u=function(e){var t=Object(r.a)(e.credential);if(!t.email.includes(\"@hbtu.ac.in\"))throw alert(\"Not a HBTU Id\"),Error(\"Not a HBTU Id\");o(t),a(!0)};return Object(j.jsxs)(\"div\",{children:[!c&&Object(j.jsx)(\"div\",{className:\"centered\",children:Object(j.jsx)(\"div\",{id:\"signupDiv\"})}),c&&Object(j.jsx)(\"div\",{children:Object(j.jsx)(b,{user:l})})]})}}}]);","name":"static/js/6.1e96b883.chunk.js","map":{"version":3,"sources":["static/js/6.1e96b883.chunk.js"],"names":["this","push","module","exports","__webpack_require__","auth","control","actions","toggle","__webpack_exports__","r","slicedToArray","react","jwt_decode_esm","auth_context","use_http","api","LoadingSpinner","AddStudentForm_module","AddStudentForm_module_default","n","jsx_runtime","auth_AddStudentForm","props","authCtx","Object","passwordRef","_useState","_useState2","showPassword","setShowPassword","_useState3","_useState4","isLoading","setIsLoading","_useHttp","sendRequest","status","error","className","children","a","onSubmit","event","preventDefault","student","name","user","given_name","rollno","email","substring","branch","role","password","current","value","token","htmlFor","type","id","required","readOnly","ref","onClick","initialSignup","setInitialSignup","setUser","google","accounts","initialize","client_id","callback","handleCallbackResponse","renderButton","document","getElementById","theme","size","response","userObject","credential","includes","alert","Error"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[6],{\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AddStudentForm_auth__h7mok\",\"control\":\"AddStudentForm_control__2g9qK\",\"actions\":\"AddStudentForm_actions__u4M92\",\"toggle\":\"AddStudentForm_toggle__29Mvf\"};\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/jwt-decode.esm.js\nvar jwt_decode_esm = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./src/store/auth-context.js\nvar auth_context = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/components/hooks/use-http.js\nvar use_http = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/components/lib/api.js\nvar api = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/UI/LoadingSpinner.js\nvar LoadingSpinner = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/components/auth/AddStudentForm.module.css\nvar AddStudentForm_module = __webpack_require__(69);\nvar AddStudentForm_module_default = /*#__PURE__*/__webpack_require__.n(AddStudentForm_module);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/auth/AddStudentForm.js\nvar AddStudentForm_AddStudentForm=function AddStudentForm(props){var authCtx=Object(react[\"useContext\"])(auth_context[\"b\" /* default */]);var passwordRef=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useHttp=Object(use_http[\"a\" /* default */])(api[\"b\" /* addStudent */],false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;// console.log(JSON.stringify(props.user));\nvar toggleShowPassword=function toggleShowPassword(){if(showPassword)setShowPassword(false);if(!showPassword)setShowPassword(true);};if(status==='pending'){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingSpinner[\"a\" /* default */],{})});}if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"centered\",children:error});}var submitionHandler=function submitionHandler(event){event.preventDefault();setIsLoading(true);sendRequest({student:{name:props.user.given_name,rollno:props.user.email.substring(0,9),branch:props.user.email.substring(5,7),role:'student',email:props.user.email,password:passwordRef.current.value},token:authCtx.token});setIsLoading(false);// console.log({\n//   name: nameRef.current.value,\n//   rollno: rollnoRef.current.value,\n//   branch: branchRef.current.value,\n//   email: emailRef.current.value,\n//   role: 'student',\n//   password: passwordRef.current.value,\n// });\n};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:AddStudentForm_module_default.a.auth,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Add Student\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitionHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"Name\",children:\"Student Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"Name\",id:\"Name\",required:true,value:props.user.given_name,readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"userName\",id:\"userName\",required:true,value:props.user.email,readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:showPassword?'text':'password',id:\"password\",required:true,ref:passwordRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onClick:toggleShowPassword}),\" Show Password\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.actions,children:[!isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Create Account\"}),isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Sending Request....\"})]})]})]});};/* harmony default export */ var auth_AddStudentForm = (AddStudentForm_AddStudentForm);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nvar Signup_Signup=function Signup(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),initialSignup=_useState2[0],setInitialSignup=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),user=_useState4[0],setUser=_useState4[1];Object(react[\"useEffect\"])(function(){/* global google */google.accounts.id.initialize({client_id:'622560773772-iifqp88cithvc1osdp9d03126cvv0d9s.apps.googleusercontent.com',callback:handleCallbackResponse});google.accounts.id.renderButton(document.getElementById('signupDiv'),{theme:'outline',size:'large'});});var handleCallbackResponse=function handleCallbackResponse(response){var userObject=Object(jwt_decode_esm[\"a\" /* default */])(response.credential);// document.getElementById('signupDiv').hidden = true;\n// console.log(userObject);\nif(userObject.email.includes('@hbtu.ac.in')){setUser(userObject);// console.log(user);\nsetInitialSignup(true);}else{alert('Not a HBTU Id');throw Error('Not a HBTU Id');}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[!initialSignup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"signupDiv\"})}),initialSignup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_AddStudentForm,{user:user})})]});};/* harmony default export */ var pages_Signup = __webpack_exports__[\"default\"] = (Signup_Signup);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AddStudentForm.module.css","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AddStudentForm.js","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Signup.js"],"names":["AddStudentForm","props","authCtx","useContext","AuthContext","passwordRef","useRef","useState","showPassword","setShowPassword","isLoading","setIsLoading","useHttp","addStudent","sendRequest","status","error","toggleShowPassword","submitionHandler","event","preventDefault","student","name","user","given_name","rollno","email","substring","branch","role","password","current","value","token","classes","auth","control","actions","Signup","initialSignup","setInitialSignup","setUser","useEffect","google","accounts","id","initialize","client_id","callback","handleCallbackResponse","renderButton","document","getElementById","theme","size","response","userObject","jwt_decode","credential","includes","alert","Error"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AddStudentForm_auth__h7mok\",\"control\":\"AddStudentForm_control__2g9qK\",\"actions\":\"AddStudentForm_actions__u4M92\",\"toggle\":\"AddStudentForm_toggle__29Mvf\"};","import { useContext, useRef, useState } from 'react';\nimport AuthContext from '../../store/auth-context';\n\nimport useHttp from '../hooks/use-http';\nimport { addStudent } from '../lib/api';\nimport LoadingSpinner from '../UI/LoadingSpinner';\n\nimport classes from './AddStudentForm.module.css';\n\nconst AddStudentForm = (props) => {\n  const authCtx = useContext(AuthContext);\n  const passwordRef = useRef();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { sendRequest, status, error } = useHttp(addStudent, false);\n\n  // console.log(JSON.stringify(props.user));\n\n  const toggleShowPassword = () => {\n    if (showPassword) setShowPassword(false);\n    if (!showPassword) setShowPassword(true);\n  };\n\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    sendRequest({\n      student: {\n        name: props.user.given_name,\n        rollno: props.user.email.substring(0, 9),\n        branch: props.user.email.substring(5, 7),\n        role: 'student',\n        email: props.user.email,\n        password: passwordRef.current.value,\n      },\n      token: authCtx.token,\n    });\n    setIsLoading(false);\n    // console.log({\n    //   name: nameRef.current.value,\n    //   rollno: rollnoRef.current.value,\n    //   branch: branchRef.current.value,\n    //   email: emailRef.current.value,\n    //   role: 'student',\n    //   password: passwordRef.current.value,\n    // });\n  };\n  return (\n    <section className={classes.auth}>\n      <h1>Add Student</h1>\n      <form onSubmit={submitionHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"Name\">Student Name</label>\n          <input\n            type=\"Name\"\n            id=\"Name\"\n            required\n            value={props.user.given_name}\n            readOnly\n          />\n        </div>\n        {/* <div className={classes.control}>\n          <label htmlFor=\"rollno\">Student Roll Number</label>\n          <input\n            type=\"rollno\"\n            id=\"rollno\"\n            required\n            value={props.user.email.substring(0, 9)}\n            readOnly\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"branch\">Branch</label>\n          <input\n            type=\"branch\"\n            id=\"branch\"\n            required\n            value={props.user.email.substring(5, 7)}\n            readOnly\n          />\n        </div> */}\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"userName\"\n            id=\"userName\"\n            required\n            value={props.user.email}\n            readOnly\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type={showPassword ? 'text' : 'password'}\n            id=\"password\"\n            required\n            ref={passwordRef}\n          />\n        </div>\n        <input type=\"checkbox\" onClick={toggleShowPassword} /> Show Password\n        <div className={classes.actions}>\n          {!isLoading && <button>Create Account</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default AddStudentForm;\n","import { useEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport AddStudentForm from '../components/auth/AddStudentForm';\n\nconst Signup = () => {\n  const [initialSignup, setInitialSignup] = useState(false);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    /* global google */\n    google.accounts.id.initialize({\n      client_id:\n        '622560773772-iifqp88cithvc1osdp9d03126cvv0d9s.apps.googleusercontent.com',\n      callback: handleCallbackResponse,\n    });\n\n    google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n      theme: 'outline',\n      size: 'large',\n    });\n  });\n  const handleCallbackResponse = (response) => {\n    var userObject = jwt_decode(response.credential);\n    // document.getElementById('signupDiv').hidden = true;\n    // console.log(userObject);\n\n    if (userObject.email.includes('@hbtu.ac.in')) {\n      setUser(userObject);\n      // console.log(user);\n\n      setInitialSignup(true);\n    } else {\n      alert('Not a HBTU Id');\n      throw Error('Not a HBTU Id');\n    }\n  };\n\n  return (\n    <div>\n      {!initialSignup && (\n        <div className=\"centered\">\n          <div id=\"signupDiv\"></div>\n        </div>\n      )}\n      {initialSignup && (\n        <div>\n          <AddStudentForm user={user} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Signup;\n"]}}