{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[6],{72:function(e,t,c){e.exports={auth:\"AddStudentForm_auth__h7mok\",control:\"AddStudentForm_control__2g9qK\",actions:\"AddStudentForm_actions__u4M92\",toggle:\"AddStudentForm_toggle__29Mvf\"}},77:function(e,t,c){\"use strict\";c.r(t);var n=c(2),s=c(1),r=c(70),a=c(71),i=c(5),o=c(9),l=c(10),d=c(6),u=c(72),j=c.n(u),b=c(0),O=function(e){console.log(e);var t=Object(s.useContext)(i.b),c=Object(s.useRef)(),r=Object(s.useState)(!1),a=Object(n.a)(r,2),u=a[0],O=a[1],m=Object(s.useState)(!1),h=Object(n.a)(m,2),p=h[0],x=h[1],f=Object(o.a)(l.b,!1),g=f.sendRequest,v=f.status,S=f.error;if(\"pending\"===v)return Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(d.a,{})});if(S)return Object(b.jsx)(\"p\",{className:\"centered\",children:S});return Object(b.jsxs)(\"section\",{className:j.a.auth,children:[Object(b.jsx)(\"h1\",{children:\"Add Student\"}),Object(b.jsxs)(\"form\",{onSubmit:function(n){n.preventDefault(),x(!0),g({student:{name:e.user.name,rollno:\"100\",branch:\"user\",role:\"student\",email:e.user.email,password:c.current.value},token:t.token}),x(!1)},children:[Object(b.jsxs)(\"div\",{className:j.a.control,children:[Object(b.jsx)(\"label\",{htmlFor:\"Name\",children:\"Student Name\"}),Object(b.jsx)(\"input\",{type:\"Name\",id:\"Name\",required:!0,value:e.user.name,readOnly:!0})]}),Object(b.jsxs)(\"div\",{className:j.a.control,children:[Object(b.jsx)(\"label\",{htmlFor:\"email\",children:\"Email\"}),Object(b.jsx)(\"input\",{type:\"userName\",id:\"userName\",required:!0,value:e.user.email,readOnly:!0})]}),Object(b.jsxs)(\"div\",{className:j.a.control,children:[Object(b.jsx)(\"label\",{htmlFor:\"password\",children:\"Password\"}),Object(b.jsx)(\"input\",{type:u?\"text\":\"password\",id:\"password\",required:!0,ref:c})]}),Object(b.jsx)(\"input\",{type:\"checkbox\",onClick:function(){u&&O(!1),u||O(!0)}}),\" Show Password\",Object(b.jsxs)(\"div\",{className:j.a.actions,children:[!p&&Object(b.jsx)(\"button\",{children:\"Create Account\"}),p&&Object(b.jsx)(\"p\",{children:\"Sending Request....\"})]})]})]})},m=\"796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com\";t.default=function(){var e=Object(s.useState)(!1),t=Object(n.a)(e,2),c=t[0],i=t[1],o=Object(s.useState)({}),l=Object(n.a)(o,2),d=l[0],u=l[1];Object(s.useEffect)((function(){a.a.load(\"client:auth2\",(function(){a.a.client.init({clientId:m,scope:\"\"})}))}));return Object(b.jsxs)(\"div\",{children:[!c&&Object(b.jsx)(\"div\",{className:\"centered\",children:Object(b.jsx)(r.GoogleLogin,{clientId:m,buttonText:\"Sign in with Google\",onSuccess:function(e){u(e),i(!0)},cookiePolicy:\"single_host_origin\",isSignedIn:!0})}),c&&Object(b.jsx)(\"div\",{children:Object(b.jsx)(O,{user:d.profileObj})})]})}}}]);","name":"static/js/6.5f9a5a2b.chunk.js","map":{"version":3,"sources":["static/js/6.5f9a5a2b.chunk.js"],"names":["this","push","module","exports","__webpack_require__","auth","control","actions","toggle","__webpack_exports__","r","slicedToArray","react","google_login","gapi_script","auth_context","use_http","api","LoadingSpinner","AddStudentForm_module","AddStudentForm_module_default","n","jsx_runtime","auth_AddStudentForm","props","console","log","authCtx","Object","passwordRef","_useState","_useState2","showPassword","setShowPassword","_useState3","_useState4","isLoading","setIsLoading","_useHttp","sendRequest","status","error","className","children","a","onSubmit","event","preventDefault","student","name","user","rollno","branch","role","email","password","current","value","token","htmlFor","type","id","required","readOnly","ref","onClick","clientId","initialSignup","setInitialSignup","setUser","load","client","init","scope","buttonText","onSuccess","response","cookiePolicy","isSignedIn","profileObj"],"mappings":"CAACA,KAAK,oCAAsCA,KAAK,qCAAuC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEhG,GACA,SAAUC,EAAQC,EAASC,GAGjCF,EAAOC,QAAU,CAACE,KAAO,6BAA6BC,QAAU,gCAAgCC,QAAU,gCAAgCC,OAAS,iCAI7I,GACA,SAAUN,EAAQO,EAAqBL,GAE7C,aAEAA,EAAoBM,EAAED,GAGtB,IAAIE,EAAgBP,EAAoB,GAGpCQ,EAAQR,EAAoB,GAG5BS,EAAeT,EAAoB,IAGnCU,EAAcV,EAAoB,IAGlCW,EAAeX,EAAoB,GAGnCY,EAAWZ,EAAoB,GAG/Ba,EAAMb,EAAoB,IAG1Bc,EAAiBd,EAAoB,GAGrCe,EAAwBf,EAAoB,IAC5CgB,EAA6ChB,EAAoBiB,EAAEF,GAGnEG,EAAclB,EAAoB,GAY4nDmB,EAThoD,SAAwBC,GAAOC,QAAQC,IAAIF,GAAO,IAAIG,EAAQC,OAAOhB,EAAkB,WAAzBgB,CAA4Bb,EAA8B,GAAOc,EAAYD,OAAOhB,EAAc,OAArBgB,GAA8BE,EAAUF,OAAOhB,EAAgB,SAAvBgB,EAA0B,GAAOG,EAAWH,OAAOjB,EAA+B,EAAtCiB,CAAyCE,EAAU,GAAGE,EAAaD,EAAW,GAAGE,EAAgBF,EAAW,GAAOG,EAAWN,OAAOhB,EAAgB,SAAvBgB,EAA0B,GAAOO,EAAWP,OAAOjB,EAA+B,EAAtCiB,CAAyCM,EAAW,GAAGE,EAAUD,EAAW,GAAGE,EAAaF,EAAW,GAAOG,EAASV,OAAOZ,EAA0B,EAAjCY,CAAoCX,EAAwB,GAAE,GAAOsB,EAAYD,EAASC,YAAYC,EAAOF,EAASE,OAAOC,EAAMH,EAASG,MACziB,GAAY,YAATD,EAAoB,OAAmBZ,OAAON,EAAiB,IAAxBM,CAA2B,MAAM,CAACc,UAAU,WAAWC,SAAsBf,OAAON,EAAiB,IAAxBM,CAA2BV,EAAgC,EAAE,MAAO,GAAGuB,EAAO,OAAmBb,OAAON,EAAiB,IAAxBM,CAA2B,IAAI,CAACc,UAAU,WAAWC,SAASF,IAQzZ,OAAmBb,OAAON,EAAkB,KAAzBM,CAA4B,UAAU,CAACc,UAAUtB,EAA8BwB,EAAEvC,KAAKsC,SAAS,CAAcf,OAAON,EAAiB,IAAxBM,CAA2B,KAAK,CAACe,SAAS,gBAA6Bf,OAAON,EAAkB,KAAzBM,CAA4B,OAAO,CAACiB,SAR4M,SAA0BC,GAAOA,EAAMC,iBAAiBV,GAAa,GAAME,EAAY,CAACS,QAAQ,CAACC,KAAKzB,EAAM0B,KAAKD,KAAKE,OAAO,MAAMC,OAAO,OAAOC,KAAK,UAAUC,MAAM9B,EAAM0B,KAAKI,MAAMC,SAAS1B,EAAY2B,QAAQC,OAAOC,MAAM/B,EAAQ+B,QAAQrB,GAAa,IAQhbM,SAAS,CAAcf,OAAON,EAAkB,KAAzBM,CAA4B,MAAM,CAACc,UAAUtB,EAA8BwB,EAAEtC,QAAQqC,SAAS,CAAcf,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAAC+B,QAAQ,OAAOhB,SAAS,iBAA8Bf,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAACgC,KAAK,OAAOC,GAAG,OAAOC,UAAS,EAAKL,MAAMjC,EAAM0B,KAAKD,KAAKc,UAAS,OAAuBnC,OAAON,EAAkB,KAAzBM,CAA4B,MAAM,CAACc,UAAUtB,EAA8BwB,EAAEtC,QAAQqC,SAAS,CAAcf,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAAC+B,QAAQ,QAAQhB,SAAS,UAAuBf,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAACgC,KAAK,WAAWC,GAAG,WAAWC,UAAS,EAAKL,MAAMjC,EAAM0B,KAAKI,MAAMS,UAAS,OAAuBnC,OAAON,EAAkB,KAAzBM,CAA4B,MAAM,CAACc,UAAUtB,EAA8BwB,EAAEtC,QAAQqC,SAAS,CAAcf,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAAC+B,QAAQ,WAAWhB,SAAS,aAA0Bf,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAACgC,KAAK5B,EAAa,OAAO,WAAW6B,GAAG,WAAWC,UAAS,EAAKE,IAAInC,OAA8BD,OAAON,EAAiB,IAAxBM,CAA2B,QAAQ,CAACgC,KAAK,WAAWK,QARlxC,WAAiCjC,GAAaC,GAAgB,GAAWD,GAAaC,GAAgB,MAQysC,iBAA8BL,OAAON,EAAkB,KAAzBM,CAA4B,MAAM,CAACc,UAAUtB,EAA8BwB,EAAErC,QAAQoC,SAAS,EAAEP,GAAwBR,OAAON,EAAiB,IAAxBM,CAA2B,SAAS,CAACe,SAAS,mBAAmBP,GAAwBR,OAAON,EAAiB,IAAxBM,CAA2B,IAAI,CAACe,SAAS,kCAiD1lDuB,EAAS,2EAC8lBzD,EAA6B,QAD9hB,WAAkB,IAAIqB,EAAUF,OAAOhB,EAAgB,SAAvBgB,EAA0B,GAAOG,EAAWH,OAAOjB,EAA+B,EAAtCiB,CAAyCE,EAAU,GAAGqC,EAAcpC,EAAW,GAAGqC,EAAiBrC,EAAW,GAAOG,EAAWN,OAAOhB,EAAgB,SAAvBgB,CAA0B,IAAIO,EAAWP,OAAOjB,EAA+B,EAAtCiB,CAAyCM,EAAW,GAAGgB,EAAKf,EAAW,GAAGkC,EAAQlC,EAAW,GAAGP,OAAOhB,EAAiB,UAAxBgB,EAA2B,WAAwHd,EAA0B,EAAEwD,KAAK,gBAA/H,WAAsBxD,EAA0B,EAAEyD,OAAOC,KAAK,CAACN,SAASA,EAASO,MAAM,WAC9hB,OAAmB7C,OAAON,EAAkB,KAAzBM,CAA4B,MAAM,CAACe,SAAS,EAAEwB,GAA4BvC,OAAON,EAAiB,IAAxBM,CAA2B,MAAM,CAACc,UAAU,WAAWC,SAAsBf,OAAON,EAAiB,IAAxBM,CAA2Bf,EAA0B,YAAE,CAACqD,SAASA,EAASQ,WAAW,sBAAsBC,UAD0W,SAAgCC,GAC5sBP,EADquBO,GACjtBR,GAAiB,IAA8TS,aAAa,qBAAqBC,YAAW,MAASX,GAA4BvC,OAAON,EAAiB,IAAxBM,CAA2B,MAAM,CAACe,SAAsBf,OAAON,EAAiB,IAAxBM,CAA2BL,EAAoB,CAAC2B,KAAKA,EAAK6B"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[6],{\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AddStudentForm_auth__h7mok\",\"control\":\"AddStudentForm_control__2g9qK\",\"actions\":\"AddStudentForm_actions__u4M92\",\"toggle\":\"AddStudentForm_toggle__29Mvf\"};\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-google-login/dist/google-login.js\nvar google_login = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/gapi-script/index.js\nvar gapi_script = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./src/store/auth-context.js\nvar auth_context = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/components/hooks/use-http.js\nvar use_http = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/components/lib/api.js\nvar api = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/UI/LoadingSpinner.js\nvar LoadingSpinner = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/components/auth/AddStudentForm.module.css\nvar AddStudentForm_module = __webpack_require__(72);\nvar AddStudentForm_module_default = /*#__PURE__*/__webpack_require__.n(AddStudentForm_module);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/auth/AddStudentForm.js\nvar AddStudentForm_AddStudentForm=function AddStudentForm(props){console.log(props);var authCtx=Object(react[\"useContext\"])(auth_context[\"b\" /* default */]);var passwordRef=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useHttp=Object(use_http[\"a\" /* default */])(api[\"b\" /* addStudent */],false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;// console.log(JSON.stringify(props.user));\nvar toggleShowPassword=function toggleShowPassword(){if(showPassword)setShowPassword(false);if(!showPassword)setShowPassword(true);};if(status==='pending'){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingSpinner[\"a\" /* default */],{})});}if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"centered\",children:error});}var submitionHandler=function submitionHandler(event){event.preventDefault();setIsLoading(true);sendRequest({student:{name:props.user.name,rollno:'100',branch:'user',role:'student',email:props.user.email,password:passwordRef.current.value},token:authCtx.token});setIsLoading(false);// console.log({\n//   name: nameRef.current.value,\n//   rollno: rollnoRef.current.value,\n//   branch: branchRef.current.value,\n//   email: emailRef.current.value,\n//   role: 'student',\n//   password: passwordRef.current.value,\n// });\n};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:AddStudentForm_module_default.a.auth,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Add Student\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitionHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"Name\",children:\"Student Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"Name\",id:\"Name\",required:true,value:props.user.name,readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"userName\",id:\"userName\",required:true,value:props.user.email,readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:showPassword?'text':'password',id:\"password\",required:true,ref:passwordRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onClick:toggleShowPassword}),\" Show Password\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AddStudentForm_module_default.a.actions,children:[!isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Create Account\"}),isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Sending Request....\"})]})]})]});};/* harmony default export */ var auth_AddStudentForm = (AddStudentForm_AddStudentForm);\n// CONCATENATED MODULE: ./src/pages/Signup.js\n// import { useEffect, useState } from 'react';\n// import jwt_decode from 'jwt-decode';\n// import AddStudentForm from '../components/auth/AddStudentForm';\n// const Signup = () => {\n//   const [initialSignup, setInitialSignup] = useState(false);\n//   const [user, setUser] = useState({});\n//   useEffect(() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id:\n//         '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com',\n//       callback: handleCallbackResponse,\n//     });\n//     google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n//       theme: 'outline',\n//       size: 'large',\n//     });\n//   });\n//   const handleCallbackResponse = (response) => {\n//     var userObject = jwt_decode(response.credential);\n//     document.getElementById('signupDiv').hidden = true;\n//     // console.log(userObject);\n//     if (userObject.email.includes('@hbtu.ac.in')) {\n//       setUser(userObject);\n//       // console.log(user);\n//       setInitialSignup(true);\n//     } else {\n//       alert('Not a HBTU Id');\n//       throw Error('Not a HBTU Id');\n//     }\n//   };\n//   return (\n//     <div>\n//       {!initialSignup && (\n//         <div className=\"centered\">\n//           <div id=\"signupDiv\"></div>\n//         </div>\n//       )}\n//       {initialSignup && (\n//         <div>\n//           <AddStudentForm user={user} />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n// export default Signup;\nvar clientId='796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com';var Signup_Signup=function Signup(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),initialSignup=_useState2[0],setInitialSignup=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),user=_useState4[0],setUser=_useState4[1];Object(react[\"useEffect\"])(function(){var initClient=function initClient(){gapi_script[\"a\" /* gapi */].client.init({clientId:clientId,scope:''});};gapi_script[\"a\" /* gapi */].load('client:auth2',initClient);});var handleCallbackResponse=function handleCallbackResponse(response){var userObject=response;// console.log(userObject);\nsetUser(userObject);setInitialSignup(true);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[!initialSignup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(google_login[\"GoogleLogin\"],{clientId:clientId,buttonText:\"Sign in with Google\",onSuccess:handleCallbackResponse,cookiePolicy:'single_host_origin',isSignedIn:true})}),initialSignup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_AddStudentForm,{user:user.profileObj})})]});};/* harmony default export */ var pages_Signup = __webpack_exports__[\"default\"] = (Signup_Signup);// const Signup = () => {\n//   useEffect(() => {\n//     const initClient = () => {\n//       gapi.client.init({\n//         clientId: clientId,\n//         scope: '',\n//       });\n//     };\n//     gapi.load('client:auth2', initClient);\n//   });\n//   const onSuccess = (res) => {\n//     console.log('success:', res);\n//   };\n//   const onFailure = (err) => {\n//     console.log('failed:', err);\n//   };\n//   return (\n//     <GoogleLogin\n//       clientId={clientId}\n//       buttonText=\"Sign in with Google\"\n//       onSuccess={onSuccess}\n//       onFailure={onFailure}\n//       cookiePolicy={'single_host_origin'}\n//       isSignedIn={true}\n//     />\n//   );\n// };\n// export default Signup;\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AddStudentForm.module.css","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AddStudentForm.js","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Signup.js"],"names":["AddStudentForm","props","console","log","authCtx","useContext","AuthContext","passwordRef","useRef","useState","showPassword","setShowPassword","isLoading","setIsLoading","useHttp","addStudent","sendRequest","status","error","toggleShowPassword","submitionHandler","event","preventDefault","student","name","user","rollno","branch","role","email","password","current","value","token","classes","auth","control","actions","clientId","Signup","initialSignup","setInitialSignup","setUser","useEffect","initClient","gapi","client","init","scope","load","handleCallbackResponse","response","userObject","profileObj"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AddStudentForm_auth__h7mok\",\"control\":\"AddStudentForm_control__2g9qK\",\"actions\":\"AddStudentForm_actions__u4M92\",\"toggle\":\"AddStudentForm_toggle__29Mvf\"};","import { useContext, useRef, useState } from 'react';\nimport AuthContext from '../../store/auth-context';\n\nimport useHttp from '../hooks/use-http';\nimport { addStudent } from '../lib/api';\nimport LoadingSpinner from '../UI/LoadingSpinner';\n\nimport classes from './AddStudentForm.module.css';\n\nconst AddStudentForm = (props) => {\n  console.log(props);\n  const authCtx = useContext(AuthContext);\n  const passwordRef = useRef();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { sendRequest, status, error } = useHttp(addStudent, false);\n\n  // console.log(JSON.stringify(props.user));\n\n  const toggleShowPassword = () => {\n    if (showPassword) setShowPassword(false);\n    if (!showPassword) setShowPassword(true);\n  };\n\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n    sendRequest({\n      student: {\n        name: props.user.name,\n        rollno: '100',\n        branch: 'user',\n        role: 'student',\n        email: props.user.email,\n        password: passwordRef.current.value,\n      },\n      token: authCtx.token,\n    });\n    setIsLoading(false);\n    // console.log({\n    //   name: nameRef.current.value,\n    //   rollno: rollnoRef.current.value,\n    //   branch: branchRef.current.value,\n    //   email: emailRef.current.value,\n    //   role: 'student',\n    //   password: passwordRef.current.value,\n    // });\n  };\n  return (\n    <section className={classes.auth}>\n      <h1>Add Student</h1>\n      <form onSubmit={submitionHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"Name\">Student Name</label>\n          <input\n            type=\"Name\"\n            id=\"Name\"\n            required\n            value={props.user.name}\n            readOnly\n          />\n        </div>\n        {/* <div className={classes.control}>\n          <label htmlFor=\"rollno\">Student Roll Number</label>\n          <input\n            type=\"rollno\"\n            id=\"rollno\"\n            required\n            value={props.user.email.substring(0, 9)}\n            readOnly\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"branch\">Branch</label>\n          <input\n            type=\"branch\"\n            id=\"branch\"\n            required\n            value={props.user.email.substring(5, 7)}\n            readOnly\n          />\n        </div> */}\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"userName\"\n            id=\"userName\"\n            required\n            value={props.user.email}\n            readOnly\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type={showPassword ? 'text' : 'password'}\n            id=\"password\"\n            required\n            ref={passwordRef}\n          />\n        </div>\n        <input type=\"checkbox\" onClick={toggleShowPassword} /> Show Password\n        <div className={classes.actions}>\n          {!isLoading && <button>Create Account</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default AddStudentForm;\n","// import { useEffect, useState } from 'react';\n// import jwt_decode from 'jwt-decode';\n// import AddStudentForm from '../components/auth/AddStudentForm';\n\n// const Signup = () => {\n//   const [initialSignup, setInitialSignup] = useState(false);\n//   const [user, setUser] = useState({});\n\n//   useEffect(() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id:\n//         '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com',\n//       callback: handleCallbackResponse,\n//     });\n//     google.accounts.id.renderButton(document.getElementById('signupDiv'), {\n//       theme: 'outline',\n//       size: 'large',\n//     });\n//   });\n//   const handleCallbackResponse = (response) => {\n//     var userObject = jwt_decode(response.credential);\n//     document.getElementById('signupDiv').hidden = true;\n//     // console.log(userObject);\n\n//     if (userObject.email.includes('@hbtu.ac.in')) {\n//       setUser(userObject);\n//       // console.log(user);\n\n//       setInitialSignup(true);\n//     } else {\n//       alert('Not a HBTU Id');\n//       throw Error('Not a HBTU Id');\n//     }\n//   };\n\n//   return (\n//     <div>\n//       {!initialSignup && (\n//         <div className=\"centered\">\n//           <div id=\"signupDiv\"></div>\n//         </div>\n//       )}\n//       {initialSignup && (\n//         <div>\n//           <AddStudentForm user={user} />\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Signup;\n\nimport { useEffect, useState } from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { gapi } from 'gapi-script';\n\nimport AddStudentForm from '../components/auth/AddStudentForm';\n\nconst clientId =\n  '796516456467-obk13f0j5ajcme475pfl3ioecispqv5a.apps.googleusercontent.com';\n\nconst Signup = () => {\n  const [initialSignup, setInitialSignup] = useState(false);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    const initClient = () => {\n      gapi.client.init({\n        clientId: clientId,\n        scope: '',\n      });\n    };\n    gapi.load('client:auth2', initClient);\n  });\n\n  const handleCallbackResponse = (response) => {\n    const userObject = response;\n    // console.log(userObject);\n    setUser(userObject);\n    setInitialSignup(true);\n  };\n\n  return (\n    <div>\n      {!initialSignup && (\n        <div className=\"centered\">\n          <GoogleLogin\n            clientId={clientId}\n            buttonText=\"Sign in with Google\"\n            onSuccess={handleCallbackResponse}\n            cookiePolicy={'single_host_origin'}\n            isSignedIn={true}\n          />\n        </div>\n      )}\n      {initialSignup && (\n        <div>\n          <AddStudentForm user={user.profileObj} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Signup;\n\n// const Signup = () => {\n\n//   useEffect(() => {\n//     const initClient = () => {\n//       gapi.client.init({\n//         clientId: clientId,\n//         scope: '',\n//       });\n//     };\n//     gapi.load('client:auth2', initClient);\n//   });\n//   const onSuccess = (res) => {\n//     console.log('success:', res);\n//   };\n//   const onFailure = (err) => {\n//     console.log('failed:', err);\n//   };\n\n//   return (\n//     <GoogleLogin\n//       clientId={clientId}\n//       buttonText=\"Sign in with Google\"\n//       onSuccess={onSuccess}\n//       onFailure={onFailure}\n//       cookiePolicy={'single_host_origin'}\n//       isSignedIn={true}\n//     />\n//   );\n// };\n\n// export default Signup;\n"]}}