{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[5],{69:function(e,c,t){e.exports={body:\"Rent_body__2GGt-\",comp:\"Rent_comp__2m8yu\",p:\"Rent_p__2jYhR\"}},74:function(e,c,t){\"use strict\";t.r(c);var a=t(2),n=t(1),l=t(4),s=t(21),r=t(10),o=t(9),d=t(18),i=t(5),j=t(6),m=t(69),b=t.n(m),u=t(0);c.default=function(e){var c=Object(l.g)(),t=Object(n.useContext)(i.b),m=Object(n.useState)(null),O=Object(a.a)(m,2),h=O[0],g=O[1],x=Object(n.useState)(!1),p=Object(a.a)(x,2),v=p[0],S=p[1],f=Object(n.useState)(!0),I=Object(a.a)(f,2),y=I[0],N=I[1],k=Object(n.useState)(!1),R=Object(a.a)(k,2),_=R[0],C=R[1],A=Object(n.useState)(!1),w=Object(a.a)(A,2),E=w[0],G=w[1],J=Object(o.a)(r.f,!1),Y=J.sendRequest,q=J.status,F=J.error,z=function(){Y({token:t.token,cycleid:h,userid:t.userid,role:t.role,name:t.name}),S(!1),g(null),localStorage.removeItem(\"scaned\"),localStorage.removeItem(\"scandata\"),!E&&F&&t.addCycle(h)};if(Object(n.useEffect)((function(){g(localStorage.getItem(\"scandata\")),S(localStorage.getItem(\"scaned\")),\"undefined\"===localStorage.getItem(\"scandata\")&&(g(null),S(!1),localStorage.removeItem(\"scaned\"),localStorage.removeItem(\"scandata\"))}),[]),Object(n.useEffect)((function(){\"admin\"===t.role&&C(!0),\"guard\"===t.role&&G(!0),void 0!==t.cycleid&&\"\"!==t.cycleid&&N(!1)}),[t,t.role,y,N,C,_,E,G,t.cycleid]),\"pending\"===q)return Object(u.jsx)(\"div\",{className:\"centered\",children:Object(u.jsx)(j.a,{})});if(F)return Object(u.jsx)(\"p\",{className:\"centered\",children:F});if(\"completed\"===q)return Object(u.jsxs)(\"div\",{className:\"centered\",children:[Object(u.jsx)(\"div\",{children:Object(u.jsx)(\"h1\",{className:\"centered\",children:E?\"Cycle Returned\":\"Cycle Rented\"})}),Object(u.jsx)(\"div\",{children:E&&Object(u.jsx)(d.a,{click:function(){S(!1),g(null),localStorage.removeItem(\"scaned\"),localStorage.removeItem(\"scandata\"),c.go(0)},children:\"Return Another Cycle\"})})]});var B=function(e){g(e),localStorage.setItem(\"scandata\",e),S(!0),localStorage.setItem(\"scaned\",!0)};return Object(u.jsxs)(\"div\",{className:b.a.body,children:[!_&&!E&&Object(u.jsxs)(\"div\",{className:b.a.comp,children:[!y&&Object(u.jsx)(\"h1\",{className:\"centered\",children:\"You have already rented one Cycle\"}),y&&Object(u.jsxs)(u.Fragment,{children:[!v&&Object(u.jsx)(s.a,{scan:B}),h&&Object(u.jsx)(\"p\",{className:b.a.p,children:h}),v&&Object(u.jsx)(d.a,{click:z,children:\"Rent\"}),v&&Object(u.jsx)(d.a,{click:function(){S(!1),g(null),localStorage.removeItem(\"scaned\"),localStorage.removeItem(\"scandata\")},children:\"Scan Again\"})]})]}),E&&Object(u.jsxs)(\"div\",{className:b.a.comp,children:[!v&&Object(u.jsx)(s.a,{scan:B}),h&&Object(u.jsx)(\"p\",{className:b.a.p,children:h}),v&&Object(u.jsx)(d.a,{click:z,children:\"Return\"}),v&&Object(u.jsx)(d.a,{click:function(){S(!1),g(null),localStorage.removeItem(\"scaned\"),localStorage.removeItem(\"scandata\")},children:\"Scan Again\"})]}),_&&!E&&Object(u.jsxs)(\"div\",{className:b.a.comp,children:[!v&&Object(u.jsx)(s.a,{scan:B}),h&&Object(u.jsx)(\"p\",{className:b.a.p,children:h}),v&&Object(u.jsx)(d.a,{click:z,children:\"Admin\"})]})]})}}}]);","name":"static/js/5.502f11aa.chunk.js","map":{"version":3,"sources":["static/js/5.502f11aa.chunk.js"],"names":["this","push","module","exports","__webpack_require__","body","comp","p","__webpack_exports__","r","_Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__","_components_lib_api__WEBPACK_IMPORTED_MODULE_4__","_components_hooks_use_http__WEBPACK_IMPORTED_MODULE_5__","_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__","_store_auth_context__WEBPACK_IMPORTED_MODULE_7__","_components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__","_Rent_module_css__WEBPACK_IMPORTED_MODULE_9__","_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default","n","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","props","history","Object","authCtx","_useState","_useState2","data","setData","_useState3","_useState4","done","setDone","_useState5","_useState6","rent","setRent","_useState7","_useState8","one","setOne","_useState9","_useState10","two","setTwo","_useHttp","sendRequest","status","error","rentHandler","token","cycleid","userid","role","name","localStorage","removeItem","addCycle","getItem","undefined","className","children","click","go","ScanComplete","setItem","a","scan"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[5],{\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Rent_body__2GGt-\",\"comp\":\"Rent_comp__2m8yu\",\"p\":\"Rent_p__2jYhR\"};\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var _components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);\n/* harmony import */ var _components_lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(10);\n/* harmony import */ var _components_hooks_use_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n/* harmony import */ var _components_UI_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(18);\n/* harmony import */ var _store_auth_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(5);\n/* harmony import */ var _components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6);\n/* harmony import */ var _Rent_module_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(69);\n/* harmony import */ var _Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_Rent_module_css__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar Rent=function Rent(props){var history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[/* useHistory */ \"g\"])();var authCtx=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_store_auth_context__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"b\"]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null),_useState2=Object(_Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState4=Object(_Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState3,2),done=_useState4[0],setDone=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(true),_useState6=Object(_Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState5,2),rent=_useState6[0],setRent=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState8=Object(_Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState7,2),one=_useState8[0],setOne=_useState8[1];var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState10=Object(_Users_shivamgulia_Developer_Microsoft_Green_Rides_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState9,2),two=_useState10[0],setTwo=_useState10[1];//   console.log(authCtx);\nvar _useHttp=Object(_components_hooks_use_http__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_components_lib_api__WEBPACK_IMPORTED_MODULE_4__[/* rentCycle */ \"f\"],false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,error=_useHttp.error;var rentHandler=function rentHandler(){sendRequest({token:authCtx.token,cycleid:data,userid:authCtx.userid,role:authCtx.role,name:authCtx.name});setDone(false);setData(null);localStorage.removeItem('scaned');localStorage.removeItem('scandata');if(!two&&error)authCtx.addCycle(data);};Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){setData(localStorage.getItem('scandata'));setDone(localStorage.getItem('scaned'));if(localStorage.getItem('scandata')==='undefined'){setData(null);setDone(false);localStorage.removeItem('scaned');localStorage.removeItem('scandata');}},[]);Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){if(authCtx.role==='admin'){setOne(true);}if(authCtx.role==='guard'){setTwo(true);}if(authCtx.cycleid!==undefined&&authCtx.cycleid!==''){setRent(false);}},[authCtx,authCtx.role,rent,setRent,setOne,one,two,setTwo,authCtx.cycleid]);//   console.log({ user: localStorage.getItem('data') });\nif(status==='pending'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{})});}if(error){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:\"centered\",children:error});}if(status==='completed'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"centered\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h1\",{className:\"centered\",children:two?'Cycle Returned':'Cycle Rented'})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{children:two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:function click(){setDone(false);setData(null);localStorage.removeItem('scaned');localStorage.removeItem('scandata');history.go(0);},children:\"Return Another Cycle\"})})]});}var ScanComplete=function ScanComplete(props){setData(props);localStorage.setItem('scandata',props);setDone(true);localStorage.setItem('scaned',true);};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.body,children:[!one&&!two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.comp,children:[!rent&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h1\",{className:\"centered\",children:\"You have already rented one Cycle\"}),rent&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:[!done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{scan:ScanComplete}),data&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.p,children:data}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:rentHandler,children:\"Rent\"}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:function click(){setDone(false);setData(null);localStorage.removeItem('scaned');localStorage.removeItem('scandata');},children:\"Scan Again\"})]})]}),two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.comp,children:[!done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{scan:ScanComplete}),data&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.p,children:data}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:rentHandler,children:\"Return\"}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:function click(){setDone(false);setData(null);localStorage.removeItem('scaned');localStorage.removeItem('scandata');},children:\"Scan Again\"})]}),one&&!two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.comp,children:[!done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{scan:ScanComplete}),data&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.p,children:data}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:rentHandler,children:\"Admin\"})]})]});};/* harmony default export */ __webpack_exports__[\"default\"] = (Rent);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Rent.module.css","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/Rent.js"],"names":["Rent","props","history","useHistory","authCtx","useContext","AuthContext","useState","data","setData","done","setDone","rent","setRent","one","setOne","two","setTwo","useHttp","rentCycle","sendRequest","status","error","rentHandler","token","cycleid","userid","role","name","localStorage","removeItem","addCycle","useEffect","getItem","undefined","go","ScanComplete","setItem","classes","body","comp","p"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Rent_body__2GGt-\",\"comp\":\"Rent_comp__2m8yu\",\"p\":\"Rent_p__2jYhR\"};","import { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Scanner from '../components/QrScaner/Scanner';\nimport { rentCycle } from '../components/lib/api';\nimport useHttp from '../components/hooks/use-http';\nimport Button from '../components/UI/Button';\nimport AuthContext from '../store/auth-context';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport classes from './Rent.module.css';\n\nconst Rent = (props) => {\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const [data, setData] = useState(null);\n  const [done, setDone] = useState(false);\n  const [rent, setRent] = useState(true);\n  const [one, setOne] = useState(false);\n  const [two, setTwo] = useState(false);\n\n  //   console.log(authCtx);\n\n  let { sendRequest, status, error } = useHttp(rentCycle, false);\n  const rentHandler = () => {\n    sendRequest({\n      token: authCtx.token,\n      cycleid: data,\n      userid: authCtx.userid,\n      role: authCtx.role,\n      name: authCtx.name,\n    });\n    setDone(false);\n    setData(null);\n    localStorage.removeItem('scaned');\n    localStorage.removeItem('scandata');\n    if (!two && error) authCtx.addCycle(data);\n  };\n  useEffect(() => {\n    setData(localStorage.getItem('scandata'));\n    setDone(localStorage.getItem('scaned'));\n    if (localStorage.getItem('scandata') === 'undefined') {\n      setData(null);\n      setDone(false);\n      localStorage.removeItem('scaned');\n      localStorage.removeItem('scandata');\n    }\n  }, []);\n  useEffect(() => {\n    if (authCtx.role === 'admin') {\n      setOne(true);\n    }\n    if (authCtx.role === 'guard') {\n      setTwo(true);\n    }\n    if (authCtx.cycleid !== undefined && authCtx.cycleid !== '') {\n      setRent(false);\n    }\n  }, [\n    authCtx,\n    authCtx.role,\n    rent,\n    setRent,\n    setOne,\n    one,\n    two,\n    setTwo,\n    authCtx.cycleid,\n  ]);\n  //   console.log({ user: localStorage.getItem('data') });\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n  if (status === 'completed') {\n    return (\n      <div className=\"centered\">\n        <div>\n          <h1 className=\"centered\">\n            {two ? 'Cycle Returned' : 'Cycle Rented'}\n          </h1>\n        </div>\n        <div>\n          {two && (\n            <Button\n              click={() => {\n                setDone(false);\n                setData(null);\n                localStorage.removeItem('scaned');\n                localStorage.removeItem('scandata');\n                history.go(0);\n              }}\n            >\n              Return Another Cycle\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  const ScanComplete = (props) => {\n    setData(props);\n    localStorage.setItem('scandata', props);\n    setDone(true);\n    localStorage.setItem('scaned', true);\n  };\n  return (\n    <div className={classes.body}>\n      {!one && !two && (\n        <div className={classes.comp}>\n          {!rent && (\n            <h1 className=\"centered\">You have already rented one Cycle</h1>\n          )}\n          {rent && (\n            <>\n              {!done && <Scanner scan={ScanComplete} />}\n              {data && <p className={classes.p}>{data}</p>}\n              {done && <Button click={rentHandler}>Rent</Button>}\n              {done && (\n                <Button\n                  click={() => {\n                    setDone(false);\n                    setData(null);\n                    localStorage.removeItem('scaned');\n                    localStorage.removeItem('scandata');\n                  }}\n                >\n                  Scan Again\n                </Button>\n              )}\n            </>\n          )}\n        </div>\n      )}\n      {two && (\n        <div className={classes.comp}>\n          {!done && <Scanner scan={ScanComplete} />}\n          {data && <p className={classes.p}>{data}</p>}\n          {done && <Button click={rentHandler}>Return</Button>}\n          {done && (\n            <Button\n              click={() => {\n                setDone(false);\n                setData(null);\n                localStorage.removeItem('scaned');\n                localStorage.removeItem('scandata');\n              }}\n            >\n              Scan Again\n            </Button>\n          )}\n        </div>\n      )}\n      {one && !two && (\n        <div className={classes.comp}>\n          {!done && <Scanner scan={ScanComplete} />}\n          {data && <p className={classes.p}>{data}</p>}\n          {done && <Button click={rentHandler}>Admin</Button>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Rent;\n"]}}