{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[4],{66:function(e,t,n){e.exports={auth:\"AuthForm_auth__2ZSKH\",control:\"AuthForm_control__1evQ4\",actions:\"AuthForm_actions__25Vmz\",toggle:\"AuthForm_toggle__1Wxr6\"}},72:function(e,t,n){\"use strict\";n.r(t);var c=n(2),r=n(1),s=n(4),o=n(5),i=n(66),a=n.n(i),u=n(0),l=function(){var e=Object(s.g)(),t=Object(r.useState)(!1),n=Object(c.a)(t,2),i=n[0],l=n[1],j=Object(r.useContext)(o.b),h=Object(r.useRef)(),d=Object(r.useRef)(),b=Object(r.useState)(!1),p=Object(c.a)(b,2),O=p[0],m=p[1];return Object(u.jsxs)(\"section\",{className:a.a.auth,children:[Object(u.jsx)(\"h1\",{children:\"Login\"}),Object(u.jsxs)(\"form\",{onSubmit:function(t){t.preventDefault();var n=h.current.value,c=d.current.value;m(!0),fetch(\"https://cycle-renter.azurewebsites.net//users/login\",{method:\"POST\",body:JSON.stringify({email:n,password:c}),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return m(!1),e.ok?e.json():e.json().then((function(e){var t=\"Authentication Failed\";throw e&&e.error&&e.error.message&&(m(!1),t=e.error.message),new Error(t)}))})).then((function(t){var n=new Date((new Date).getTime()+36e6);j.login(t,c,t.token,t._id,t.role,t.cycleid,n.toISOString()),e.replace(\"/\")})).catch((function(e){alert(e.message)}))},children:[Object(u.jsxs)(\"div\",{className:a.a.control,children:[Object(u.jsx)(\"label\",{htmlFor:\"email\",children:\"Your Email\"}),Object(u.jsx)(\"input\",{type:\"userName\",id:\"userName\",required:!0,ref:h})]}),Object(u.jsxs)(\"div\",{className:a.a.control,children:[Object(u.jsx)(\"label\",{htmlFor:\"password\",children:\"Your Password\"}),Object(u.jsx)(\"input\",{type:i?\"text\":\"password\",id:\"password\",required:!0,ref:d})]}),Object(u.jsx)(\"input\",{type:\"checkbox\",onClick:function(){i&&l(!1),i||l(!0)}}),\" Show Password\",Object(u.jsxs)(\"div\",{className:a.a.actions,children:[!O&&Object(u.jsx)(\"button\",{children:\"Login\"}),O&&Object(u.jsx)(\"p\",{children:\"Sending Request....\"})]})]}),Object(u.jsx)(\"div\",{className:a.a.actions,children:Object(u.jsx)(\"button\",{onClick:function(){e.push(\"/signup\")},children:\" Sign Up\"})})]})};t.default=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l,{})})}}}]);","name":"static/js/4.df90de6a.chunk.js","map":{"version":3,"sources":["static/js/4.df90de6a.chunk.js"],"names":["this","push","module","exports","__webpack_require__","auth","control","actions","toggle","__webpack_exports__","r","slicedToArray","react","react_router","auth_context","AuthForm_module","AuthForm_module_default","n","jsx_runtime","auth_AuthForm","history","Object","_useState","_useState2","showPassword","setShowPassword","authCtx","emailInputRef","passwordInputRef","_useState3","_useState4","isLoading","setIsLoading","className","a","children","onSubmit","event","preventDefault","enteredEmail","current","value","enteredPassword","fetch","method","body","JSON","stringify","email","password","headers","then","res","ok","json","data","errorMessage","error","message","Error","experationTime","Date","getTime","login","token","_id","role","cycleid","toISOString","replace","catch","err","alert","htmlFor","type","id","required","ref","onClick"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[4],{\n\n/***/ 66:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__2ZSKH\",\"control\":\"AuthForm_control__1evQ4\",\"actions\":\"AuthForm_actions__25Vmz\",\"toggle\":\"AuthForm_toggle__1Wxr6\"};\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/store/auth-context.js\nvar auth_context = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/components/auth/AuthForm.module.css\nvar AuthForm_module = __webpack_require__(66);\nvar AuthForm_module_default = /*#__PURE__*/__webpack_require__.n(AuthForm_module);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/auth/AuthForm.js\nvar AuthForm_AuthForm=function AuthForm(){var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var authCtx=Object(react[\"useContext\"])(auth_context[\"b\" /* default */]);var emailInputRef=Object(react[\"useRef\"])();var passwordInputRef=Object(react[\"useRef\"])();var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var toggleShowPassword=function toggleShowPassword(){if(showPassword)setShowPassword(false);if(!showPassword)setShowPassword(true);};var submitionHandler=function submitionHandler(event){event.preventDefault();var enteredEmail=emailInputRef.current.value;var enteredPassword=passwordInputRef.current.value;setIsLoading(true);var url;url='https://cycle-renter.azurewebsites.net//users/login';//login send req url\nfetch(url,{method:'POST',body:JSON.stringify({email:enteredEmail,password:enteredPassword}),headers:{'Content-Type':'application/json'}}).then(function(res){setIsLoading(false);if(res.ok){return res.json();}else{return res.json().then(function(data){var errorMessage='Authentication Failed';if(data&&data.error&&data.error.message){setIsLoading(false);errorMessage=data.error.message;}throw new Error(errorMessage);});}}).then(function(data){var experationTime=new Date(new Date().getTime()+ +36000000);authCtx.login(data,enteredPassword,data.token,data._id,data.role,data.cycleid,experationTime.toISOString());history.replace('/');}).catch(function(err){alert(err.message);});};var signupHandler=function signupHandler(){history.push('/signup');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:AuthForm_module_default.a.auth,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitionHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Your Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"userName\",id:\"userName\",required:true,ref:emailInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Your Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:showPassword?'text':'password',id:\"password\",required:true,ref:passwordInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onClick:toggleShowPassword}),\" Show Password\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.actions,children:[!isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Login\"}),isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Sending Request....\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:AuthForm_module_default.a.actions,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:signupHandler,children:\" Sign Up\"})})]});};/* harmony default export */ var auth_AuthForm = (AuthForm_AuthForm);\n// CONCATENATED MODULE: ./src/pages/AuthPage.js\nvar AuthPage_AuthPage=function AuthPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_AuthForm,{})});};/* harmony default export */ var pages_AuthPage = __webpack_exports__[\"default\"] = (AuthPage_AuthPage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Microsoft/Green Rides/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AuthForm.module.css","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/components/auth/AuthForm.js","/Users/shivamgulia/Developer/Microsoft/Green Rides/src/pages/AuthPage.js"],"names":["AuthForm","history","useHistory","useState","showPassword","setShowPassword","authCtx","useContext","AuthContext","emailInputRef","useRef","passwordInputRef","isLoading","setIsLoading","toggleShowPassword","submitionHandler","event","preventDefault","enteredEmail","current","value","enteredPassword","url","fetch","method","body","JSON","stringify","email","password","headers","then","res","ok","json","data","errorMessage","error","message","Error","experationTime","Date","getTime","login","token","_id","role","cycleid","toISOString","replace","catch","err","alert","signupHandler","push","classes","auth","control","actions","AuthPage"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__2ZSKH\",\"control\":\"AuthForm_control__1evQ4\",\"actions\":\"AuthForm_actions__25Vmz\",\"toggle\":\"AuthForm_toggle__1Wxr6\"};","import { useState, useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './AuthForm.module.css';\n\nconst AuthForm = () => {\n  const history = useHistory();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const authCtx = useContext(AuthContext);\n\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const toggleShowPassword = () => {\n    if (showPassword) setShowPassword(false);\n    if (!showPassword) setShowPassword(true);\n  };\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    setIsLoading(true);\n\n    let url;\n    url = 'https://cycle-renter.azurewebsites.net//users/login'; //login send req url\n\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            let errorMessage = 'Authentication Failed';\n            if (data && data.error && data.error.message) {\n              setIsLoading(false);\n              errorMessage = data.error.message;\n            }\n            throw new Error(errorMessage);\n          });\n        }\n      })\n      .then((data) => {\n        const experationTime = new Date(new Date().getTime() + +36000000);\n        authCtx.login(\n          data,\n          enteredPassword,\n          data.token,\n          data._id,\n          data.role,\n          data.cycleid,\n          experationTime.toISOString()\n        );\n        history.replace('/');\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n\n  const signupHandler = () => {\n    history.push('/signup');\n  };\n\n  return (\n    <section className={classes.auth}>\n      <h1>Login</h1>\n      <form onSubmit={submitionHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Your Email</label>\n          <input type=\"userName\" id=\"userName\" required ref={emailInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Your Password</label>\n          <input\n            type={showPassword ? 'text' : 'password'}\n            id=\"password\"\n            required\n            ref={passwordInputRef}\n          />\n        </div>\n        <input type=\"checkbox\" onClick={toggleShowPassword} /> Show Password\n        <div className={classes.actions}>\n          {!isLoading && <button>Login</button>}\n          {isLoading && <p>Sending Request....</p>}\n        </div>\n      </form>\n      <div className={classes.actions}>\n        <button onClick={signupHandler}> Sign Up</button>\n      </div>\n    </section>\n  );\n};\n\nexport default AuthForm;\n","import AuthForm from '../components/auth/AuthForm';\n\nconst AuthPage = () => {\n  return (\n    <>\n      <AuthForm />\n    </>\n  );\n};\n\nexport default AuthPage;\n"]}}