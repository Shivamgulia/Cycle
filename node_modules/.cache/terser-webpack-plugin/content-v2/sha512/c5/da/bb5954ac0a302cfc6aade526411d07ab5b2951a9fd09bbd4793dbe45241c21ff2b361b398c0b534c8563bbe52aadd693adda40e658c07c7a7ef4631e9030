{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[3],{63:function(e,c,r){e.exports={form:\"ProfileForm_form__2xGgc\",control:\"ProfileForm_control__2YUZH\",action:\"ProfileForm_action__opJ_6\"}},64:function(e,c,r){e.exports={profile:\"UserProfile_profile__gQOnH\",action:\"UserProfile_action__8zxDu\"}},70:function(e,c,r){\"use strict\";r.r(c);var t=r(2),s=r(1),n=r(5),o=r(4),a=r(63),i=r.n(a),l=r(0),d=function(e){var c=Object(o.g)(),r=Object(s.useRef)();return Object(l.jsxs)(\"form\",{className:i.a.form,onSubmit:function(t){t.preventDefault();var s=r.current.value;fetch(\"\".concat(\"https://pacific-fortress-54764.herokuapp.com\",\"/users/password/\").concat(e.userid),{method:\"PATCH\",body:JSON.stringify({password:s}),headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+e.token}}).then((function(e){c.replace(\"/\")}))},children:[Object(l.jsxs)(\"div\",{className:i.a.control,children:[Object(l.jsx)(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),Object(l.jsx)(\"input\",{type:\"password\",id:\"new-password\",ref:r})]}),Object(l.jsx)(\"div\",{className:i.a.action,children:Object(l.jsx)(\"button\",{children:\"Change Password\"})})]})},u=function(e){var c=Object(s.useState)(!1),r=Object(t.a)(c,2),n=r[0],o=r[1];Object(s.useEffect)((function(){\"guard\"!==e.user.role&&\"admin\"!==e.user.role||o(!0)}),[e.user.role]);var a=e.user.cycleid?e.user.cycleid:\"No Cycle Rented Yet\";return Object(l.jsxs)(\"div\",{children:[Object(l.jsxs)(\"h3\",{className:\"centered\",children:[\"Name : \",e.user.name]}),!n&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(\"h4\",{className:\"centered\",children:[\"Roll No.: \",e.user.rollno]}),Object(l.jsxs)(\"h4\",{className:\"centered\",children:[\"Branch : \",e.user.branch]}),Object(l.jsxs)(\"h4\",{className:\"centered\",children:[\"Cycle Id : \",a]})]})]})},j=r(64),b=r.n(j),h=function(){var e=Object(s.useContext)(n.b),c=Object(s.useState)(!1),r=Object(t.a)(c,2),o=r[0],a=r[1],i={name:e.name,branch:e.branch,rollno:e.rollno,cycleid:e.cycleid?e.cycleid:\"\",role:e.role};return Object(l.jsxs)(\"section\",{className:b.a.profile,children:[Object(l.jsx)(\"h1\",{children:\"Your User Profile\"}),Object(l.jsx)(u,{user:i}),o&&Object(l.jsx)(d,{token:localStorage.getItem(\"token\"),userid:e.userid}),Object(l.jsx)(\"div\",{className:b.a.action,children:Object(l.jsx)(\"button\",{onClick:function(){o&&a(!1),o||a(!0)},children:o?\"Cancel\":\"Change Password\"})})]})};c.default=function(){return Object(l.jsx)(h,{})}}}]);","name":"static/js/3.20437c64.chunk.js","map":{"version":3,"sources":["static/js/3.20437c64.chunk.js"],"names":["this","push","module","exports","__webpack_require__","form","control","action","profile","__webpack_exports__","r","slicedToArray","react","auth_context","react_router","ProfileForm_module","ProfileForm_module_default","n","jsx_runtime","Profile_ProfileForm","props","history","Object","newPasswordRef","className","a","onSubmit","event","preventDefault","newEnteredPassword","current","value","fetch","concat","userid","method","body","JSON","stringify","password","headers","Authorization","token","then","res","replace","children","htmlFor","type","id","ref","Profile_UserData","_useState","_useState2","guard","setGuard","user","role","cycle","cycleid","name","rollno","branch","UserProfile_module","UserProfile_module_default","Profile_UserProfile","authCtx","showChange","setShowChange","localStorage","getItem","onClick"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[3],{\n\n/***/ 63:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__2xGgc\",\"control\":\"ProfileForm_control__2YUZH\",\"action\":\"ProfileForm_action__opJ_6\"};\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__gQOnH\",\"action\":\"UserProfile_action__8zxDu\"};\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/store/auth-context.js\nvar auth_context = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/components/Profile/ProfileForm.module.css\nvar ProfileForm_module = __webpack_require__(63);\nvar ProfileForm_module_default = /*#__PURE__*/__webpack_require__.n(ProfileForm_module);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Profile/ProfileForm.js\nvar ProfileForm_ProfileForm=function ProfileForm(props){var history=Object(react_router[\"g\" /* useHistory */])();var newPasswordRef=Object(react[\"useRef\"])();var submitionHandler=function submitionHandler(event){event.preventDefault();var newEnteredPassword=newPasswordRef.current.value;var url='https://pacific-fortress-54764.herokuapp.com';fetch(\"\".concat(url,\"/users/password/\").concat(props.userid),{method:'PATCH',body:JSON.stringify({password:newEnteredPassword}),headers:{'Content-Type':'application/json',Authorization:'Bearer '+props.token}}).then(function(res){history.replace('/');});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:ProfileForm_module_default.a.form,onSubmit:submitionHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:ProfileForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"new-password\",ref:newPasswordRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:ProfileForm_module_default.a.action,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Change Password\"})})]});};/* harmony default export */ var Profile_ProfileForm = (ProfileForm_ProfileForm);\n// CONCATENATED MODULE: ./src/components/Profile/UserData.js\nvar UserData_UserData=function UserData(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),guard=_useState2[0],setGuard=_useState2[1];Object(react[\"useEffect\"])(function(){if(props.user.role==='guard'||props.user.role==='admin')setGuard(true);},[props.user.role]);var cycle=props.user.cycleid?props.user.cycleid:'No Cycle Rented Yet';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{className:\"centered\",children:[\"Name : \",props.user.name]}),!guard&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"centered\",children:[\"Roll No.: \",props.user.rollno]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"centered\",children:[\"Branch : \",props.user.branch]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"centered\",children:[\"Cycle Id : \",cycle]})]})]});};/* harmony default export */ var Profile_UserData = (UserData_UserData);\n// EXTERNAL MODULE: ./src/components/Profile/UserProfile.module.css\nvar UserProfile_module = __webpack_require__(64);\nvar UserProfile_module_default = /*#__PURE__*/__webpack_require__.n(UserProfile_module);\n\n// CONCATENATED MODULE: ./src/components/Profile/UserProfile.js\nvar UserProfile_UserProfile=function UserProfile(){var authCtx=Object(react[\"useContext\"])(auth_context[\"b\" /* default */]);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showChange=_useState2[0],setShowChange=_useState2[1];var showChangeHandler=function showChangeHandler(){if(showChange)setShowChange(false);if(!showChange)setShowChange(true);};var user={name:authCtx.name,branch:authCtx.branch,rollno:authCtx.rollno,cycleid:authCtx.cycleid?authCtx.cycleid:'',role:authCtx.role};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:UserProfile_module_default.a.profile,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Your User Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_UserData,{user:user}),showChange&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_ProfileForm,{token:localStorage.getItem('token'),userid:authCtx.userid}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:UserProfile_module_default.a.action,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:showChangeHandler,children:showChange?'Cancel':'Change Password'})})]});};/* harmony default export */ var Profile_UserProfile = (UserProfile_UserProfile);\n// CONCATENATED MODULE: ./src/pages/ProfilePage.js\nvar ProfilePage_ProfilePage=function ProfilePage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_UserProfile,{});};/* harmony default export */ var pages_ProfilePage = __webpack_exports__[\"default\"] = (ProfilePage_ProfilePage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Profile/ProfileForm.module.css","/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Profile/UserProfile.module.css","/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Profile/ProfileForm.js","/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Profile/UserData.js","/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/components/Profile/UserProfile.js","/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/pages/ProfilePage.js"],"names":["ProfileForm","props","history","useHistory","newPasswordRef","useRef","submitionHandler","event","preventDefault","newEnteredPassword","current","value","url","fetch","userid","method","body","JSON","stringify","password","headers","Authorization","token","then","res","replace","classes","form","control","action","UserData","useState","guard","setGuard","useEffect","user","role","cycle","cycleid","name","rollno","branch","UserProfile","authCtx","useContext","AuthContext","showChange","setShowChange","showChangeHandler","profile","localStorage","getItem","ProfilePage"],"mappings":";;;;;AAAA;AACA,kBAAkB,8G;;;;;;;ACDlB;AACA,kBAAkB,6E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIlB,GAAMA,wBAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC7B,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CACA,GAAMC,eAAc,CAAGC,uBAAM,EAA7B,CAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,KAAD,CAAW,CAClCA,KAAK,CAACC,cAAN,GAEA,GAAMC,mBAAkB,CAAGL,cAAc,CAACM,OAAf,CAAuBC,KAAlD,CACA,GAAMC,IAAG,CAAG,8CAAZ,CAEAC,KAAK,WAAID,GAAJ,4BAA0BX,KAAK,CAACa,MAAhC,EAA0C,CAC7CC,MAAM,CAAE,OADqC,CAE7CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,QAAQ,CAAEV,kBADS,CAAf,CAFuC,CAK7CW,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYpB,KAAK,CAACqB,KAF1B,CALoC,CAA1C,CAAL,CASGC,IATH,CASQ,SAACC,GAAD,CAAS,CACftB,OAAO,CAACuB,OAAR,CAAgB,GAAhB,EACD,CAXD,EAYD,CAlBD,CAoBA,mBACE,oCAAM,SAAS,CAAEC,4BAAO,CAACC,IAAzB,CAA+B,QAAQ,CAAErB,gBAAzC,wBACE,mCAAK,SAAS,CAAEoB,4BAAO,CAACE,OAAxB,wBACE,oCAAO,OAAO,CAAC,cAAf,0BADF,cAEE,oCAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,cAA1B,CAAyC,GAAG,CAAExB,cAA9C,EAFF,GADF,cAKE,kCAAK,SAAS,CAAEsB,4BAAO,CAACG,MAAxB,uBACE,iEADF,EALF,GADF,CAWD,CAnCD,CAqCe7B,+EAAf,E;;ACxCA,GAAM8B,kBAAQ,CAAG,QAAXA,SAAW,CAAC7B,KAAD,CAAW,CAC1B,cAA0B8B,yBAAQ,CAAC,KAAD,CAAlC,kEAAOC,KAAP,eAAcC,QAAd,eACAC,0BAAS,CAAC,UAAM,CACd,GAAIjC,KAAK,CAACkC,IAAN,CAAWC,IAAX,GAAoB,OAApB,EAA+BnC,KAAK,CAACkC,IAAN,CAAWC,IAAX,GAAoB,OAAvD,CACEH,QAAQ,CAAC,IAAD,CAAR,CACH,CAHQ,CAGN,CAAChC,KAAK,CAACkC,IAAN,CAAWC,IAAZ,CAHM,CAAT,CAKA,GAAMC,MAAK,CAAGpC,KAAK,CAACkC,IAAN,CAAWG,OAAX,CAAqBrC,KAAK,CAACkC,IAAN,CAAWG,OAAhC,CAA0C,qBAAxD,CACA,mBACE,0DACE,kCAAI,SAAS,CAAC,UAAd,qBAAiCrC,KAAK,CAACkC,IAAN,CAAWI,IAA5C,GADF,CAEG,CAACP,KAAD,eACC,4EACE,kCAAI,SAAS,CAAC,UAAd,wBAAoC/B,KAAK,CAACkC,IAAN,CAAWK,MAA/C,GADF,cAEE,kCAAI,SAAS,CAAC,UAAd,uBAAmCvC,KAAK,CAACkC,IAAN,CAAWM,MAA9C,GAFF,cAGE,kCAAI,SAAS,CAAC,UAAd,yBAAqCJ,KAArC,GAHF,GAHJ,GADF,CAYD,CApBD,CAqBeP,sEAAf,E;;;;;;ACjBA,GAAMY,wBAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAMC,QAAO,CAAGC,2BAAU,CAACC,+BAAD,CAA1B,CACA,cAAoCd,yBAAQ,CAAC,KAAD,CAA5C,kEAAOe,UAAP,eAAmBC,aAAnB,eACA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAIF,UAAJ,CAAgBC,aAAa,CAAC,KAAD,CAAb,CAChB,GAAI,CAACD,UAAL,CAAiBC,aAAa,CAAC,IAAD,CAAb,CAClB,CAHD,CAKA,GAAMZ,KAAI,CAAG,CACXI,IAAI,CAAEI,OAAO,CAACJ,IADH,CAEXE,MAAM,CAAEE,OAAO,CAACF,MAFL,CAGXD,MAAM,CAAEG,OAAO,CAACH,MAHL,CAIXF,OAAO,CAAEK,OAAO,CAACL,OAAR,CAAkBK,OAAO,CAACL,OAA1B,CAAoC,EAJlC,CAKXF,IAAI,CAAEO,OAAO,CAACP,IALH,CAAb,CAOA,mBACE,uCAAS,SAAS,CAAEV,4BAAO,CAACuB,OAA5B,wBACE,+DADF,cAEE,2BAAC,gBAAD,EAAU,IAAI,CAAEd,IAAhB,EAFF,CAGGW,UAAU,eACT,2BAAC,mBAAD,EACE,KAAK,CAAEI,YAAY,CAACC,OAAb,CAAqB,OAArB,CADT,CAEE,MAAM,CAAER,OAAO,CAAC7B,MAFlB,EAJJ,cASE,kCAAK,SAAS,CAAEY,4BAAO,CAACG,MAAxB,uBACE,qCAAQ,OAAO,CAAEmB,iBAAjB,UACGF,UAAU,CAAG,QAAH,CAAc,iBAD3B,EADF,EATF,GADF,CAiBD,CAhCD,CAkCeJ,+EAAf,E;;ACtCA,GAAMU,wBAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,mBAAO,2BAAC,mBAAD,IAAP,CACD,CAFD,CAIeA,8GAAf,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__2xGgc\",\"control\":\"ProfileForm_control__2YUZH\",\"action\":\"ProfileForm_action__opJ_6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__gQOnH\",\"action\":\"UserProfile_action__8zxDu\"};","import { useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport classes from './ProfileForm.module.css';\n\nconst ProfileForm = (props) => {\n  const history = useHistory();\n  const newPasswordRef = useRef();\n\n  const submitionHandler = (event) => {\n    event.preventDefault();\n\n    const newEnteredPassword = newPasswordRef.current.value;\n    const url = 'https://pacific-fortress-54764.herokuapp.com';\n\n    fetch(`${url}/users/password/${props.userid}`, {\n      method: 'PATCH',\n      body: JSON.stringify({\n        password: newEnteredPassword,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + props.token,\n      },\n    }).then((res) => {\n      history.replace('/');\n    });\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitionHandler}>\n      <div className={classes.control}>\n        <label htmlFor=\"new-password\">New Password</label>\n        <input type=\"password\" id=\"new-password\" ref={newPasswordRef} />\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n    </form>\n  );\n};\n\nexport default ProfileForm;\n","import { useEffect, useState } from 'react';\n\nconst UserData = (props) => {\n  const [guard, setGuard] = useState(false);\n  useEffect(() => {\n    if (props.user.role === 'guard' || props.user.role === 'admin')\n      setGuard(true);\n  }, [props.user.role]);\n\n  const cycle = props.user.cycleid ? props.user.cycleid : 'No Cycle Rented Yet';\n  return (\n    <div>\n      <h3 className=\"centered\">Name : {props.user.name}</h3>\n      {!guard && (\n        <>\n          <h4 className=\"centered\">Roll No.: {props.user.rollno}</h4>\n          <h4 className=\"centered\">Branch : {props.user.branch}</h4>\n          <h4 className=\"centered\">Cycle Id : {cycle}</h4>\n        </>\n      )}\n    </div>\n  );\n};\nexport default UserData;\n","import { useContext, useState } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport ProfileForm from './ProfileForm';\nimport UserData from './UserData';\nimport classes from './UserProfile.module.css';\n\nconst UserProfile = () => {\n  const authCtx = useContext(AuthContext);\n  const [showChange, setShowChange] = useState(false);\n  const showChangeHandler = () => {\n    if (showChange) setShowChange(false);\n    if (!showChange) setShowChange(true);\n  };\n\n  const user = {\n    name: authCtx.name,\n    branch: authCtx.branch,\n    rollno: authCtx.rollno,\n    cycleid: authCtx.cycleid ? authCtx.cycleid : '',\n    role: authCtx.role,\n  };\n  return (\n    <section className={classes.profile}>\n      <h1>Your User Profile</h1>\n      <UserData user={user} />\n      {showChange && (\n        <ProfileForm\n          token={localStorage.getItem('token')}\n          userid={authCtx.userid}\n        />\n      )}\n      <div className={classes.action}>\n        <button onClick={showChangeHandler}>\n          {showChange ? 'Cancel' : 'Change Password'}\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default UserProfile;\n","import UserProfile from '../components/Profile/UserProfile';\n\nconst ProfilePage = () => {\n  return <UserProfile />;\n};\n\nexport default ProfilePage;\n"]}}