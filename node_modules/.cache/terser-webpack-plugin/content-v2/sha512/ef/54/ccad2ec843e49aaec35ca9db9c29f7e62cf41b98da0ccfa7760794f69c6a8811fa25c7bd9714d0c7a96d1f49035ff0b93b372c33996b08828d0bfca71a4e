{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[5],{58:function(e,c,t){e.exports={body:\"Rent_body__2GGt-\",comp:\"Rent_comp__2m8yu\",p:\"Rent_p__2jYhR\"}},61:function(e,c,t){\"use strict\";t.r(c);var s=t(2),a=t(1),n=t(4),j=t(21),r=t(10),l=t(9),d=t(17),i=t(5),b=t(8),O=t(58),o=t.n(O),u=t(0);c.default=function(e){var c=Object(n.g)(),t=Object(a.useContext)(i.b),O=Object(a.useState)(null),h=Object(s.a)(O,2),m=h[0],x=h[1],p=Object(a.useState)(!1),f=Object(s.a)(p,2),v=f[0],y=f[1],N=Object(a.useState)(!1),R=Object(s.a)(N,2),g=R[0],_=R[1],k=Object(a.useState)(!1),C=Object(s.a)(k,2),S=C[0],w=C[1],A=Object(a.useState)(!1),G=Object(s.a)(A,2),J=G[0],Y=G[1],q=Object(l.a)(r.f,!1),E=q.sendRequest,F=q.status,I=(q.data,q.error),z=function(){E({token:t.token,cycleid:m,userid:t.userid,role:t.role}),J||t.addCycle(m)};if(Object(a.useEffect)((function(){\"admin\"===t.role&&w(!0),\"guard\"===t.role&&Y(!0),\"\"===localStorage.getItem(\"cycleid\")&&_(!0)}),[t,t.role]),\"pending\"===F)return Object(u.jsx)(\"div\",{className:\"centered\",children:Object(u.jsx)(b.a,{})});if(I)return Object(u.jsx)(\"p\",{className:\"centered\",children:I});if(\"completed\"===F)return Object(u.jsxs)(\"div\",{className:\"centered\",children:[Object(u.jsx)(\"div\",{children:Object(u.jsx)(\"h1\",{className:\"centered\",children:J?\"Cycle Returned\":\"Cycle Rented\"})}),Object(u.jsx)(\"div\",{children:J&&Object(u.jsx)(d.a,{click:function(){c.go(0)},children:\"Return Another Cycle\"})})]});var B=function(e){x(e),y(!0)};return Object(u.jsxs)(\"div\",{className:o.a.body,children:[!S&&!J&&Object(u.jsxs)(\"div\",{className:o.a.comp,children:[!g&&Object(u.jsx)(\"h1\",{className:\"centered\",children:\"You have already rented one Cycle\"}),g&&Object(u.jsxs)(u.Fragment,{children:[!v&&Object(u.jsx)(j.a,{scan:B}),m&&Object(u.jsx)(\"p\",{className:o.a.p,children:m}),v&&Object(u.jsx)(d.a,{click:z,children:\"Rent\"})]})]}),J&&Object(u.jsxs)(\"div\",{className:o.a.comp,children:[!v&&Object(u.jsx)(j.a,{scan:B}),m&&Object(u.jsx)(\"p\",{className:o.a.p,children:m}),v&&Object(u.jsx)(d.a,{click:z,children:\"Return\"})]}),S&&!J&&Object(u.jsxs)(\"div\",{className:o.a.comp,children:[!v&&Object(u.jsx)(j.a,{scan:B}),m&&Object(u.jsx)(\"p\",{className:o.a.p,children:m}),v&&Object(u.jsx)(d.a,{click:z,children:\"Admin\"})]})]})}}}]);","name":"static/js/5.9abb4983.chunk.js","map":{"version":3,"sources":["static/js/5.9abb4983.chunk.js"],"names":["this","push","module","exports","__webpack_require__","body","comp","p","__webpack_exports__","r","_Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__","_components_lib_api__WEBPACK_IMPORTED_MODULE_4__","_components_hooks_use_http__WEBPACK_IMPORTED_MODULE_5__","_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__","_store_auth_context__WEBPACK_IMPORTED_MODULE_7__","_components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__","_Rent_module_css__WEBPACK_IMPORTED_MODULE_9__","_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default","n","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","props","history","Object","authCtx","_useState","_useState2","data","setData","_useState3","_useState4","done","setDone","_useState5","_useState6","rent","setRent","_useState7","_useState8","one","setOne","_useState9","_useState10","two","setTwo","_useHttp","sendRequest","status","error","rentHandler","token","cycleid","userid","role","addCycle","localStorage","getItem","className","children","click","go","ScanComplete","a","scan"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[5],{\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Rent_body__2GGt-\",\"comp\":\"Rent_comp__2m8yu\",\"p\":\"Rent_p__2jYhR\"};\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var _components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);\n/* harmony import */ var _components_lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(10);\n/* harmony import */ var _components_hooks_use_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n/* harmony import */ var _components_UI_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17);\n/* harmony import */ var _store_auth_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(5);\n/* harmony import */ var _components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8);\n/* harmony import */ var _Rent_module_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(58);\n/* harmony import */ var _Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_Rent_module_css__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar Rent=function Rent(props){var history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[/* useHistory */ \"g\"])();var authCtx=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_store_auth_context__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"b\"]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null),_useState2=Object(_Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState4=Object(_Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState3,2),done=_useState4[0],setDone=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState6=Object(_Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState5,2),rent=_useState6[0],setRent=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState8=Object(_Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState7,2),one=_useState8[0],setOne=_useState8[1];var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState10=Object(_Users_shivamgulia_Developer_Green_Riders_JS_cycle_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState9,2),two=_useState10[0],setTwo=_useState10[1];//   console.log(authCtx);\nvar _useHttp=Object(_components_hooks_use_http__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_components_lib_api__WEBPACK_IMPORTED_MODULE_4__[/* rentCycle */ \"f\"],false),sendRequest=_useHttp.sendRequest,status=_useHttp.status,cycle=_useHttp.data,error=_useHttp.error;var rentHandler=function rentHandler(){sendRequest({token:authCtx.token,cycleid:data,userid:authCtx.userid,role:authCtx.role});if(!two)authCtx.addCycle(data);// console.log(cycle);\n};Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){if(authCtx.role==='admin'){setOne(true);}if(authCtx.role==='guard'){setTwo(true);}if(localStorage.getItem('cycleid')===''){setRent(true);}},[authCtx,authCtx.role]);//   console.log({ user: localStorage.getItem('data') });\nif(status==='pending'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"centered\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_LoadingSpinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{})});}if(error){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:\"centered\",children:error});}if(status==='completed'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"centered\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h1\",{className:\"centered\",children:two?'Cycle Returned':'Cycle Rented'})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{children:two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:function click(){history.go(0);},children:\"Return Another Cycle\"})})]});}var ScanComplete=function ScanComplete(props){setData(props);setDone(true);};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.body,children:[!one&&!two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.comp,children:[!rent&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h1\",{className:\"centered\",children:\"You have already rented one Cycle\"}),rent&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:[!done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{scan:ScanComplete}),data&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.p,children:data}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:rentHandler,children:\"Rent\"})]})]}),two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.comp,children:[!done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{scan:ScanComplete}),data&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.p,children:data}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:rentHandler,children:\"Return\"})]}),one&&!two&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.comp,children:[!done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_QrScaner_Scanner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{scan:ScanComplete}),data&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:_Rent_module_css__WEBPACK_IMPORTED_MODULE_9___default.a.p,children:data}),done&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_components_UI_Button__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{click:rentHandler,children:\"Admin\"})]})]});};/* harmony default export */ __webpack_exports__[\"default\"] = (Rent);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/shivamgulia/Developer/Green Riders/JS/cycle/node_modules/postcss-loader/src/index.js??postcss!/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/pages/Rent.module.css","/Users/shivamgulia/Developer/Green Riders/JS/cycle/src/pages/Rent.js"],"names":["Rent","props","history","useHistory","authCtx","useContext","AuthContext","useState","data","setData","done","setDone","rent","setRent","one","setOne","two","setTwo","useHttp","rentCycle","sendRequest","status","cycle","error","rentHandler","token","cycleid","userid","role","addCycle","useEffect","localStorage","getItem","go","ScanComplete","classes","body","comp","p"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Rent_body__2GGt-\",\"comp\":\"Rent_comp__2m8yu\",\"p\":\"Rent_p__2jYhR\"};","import { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Scanner from '../components/QrScaner/Scanner';\nimport { rentCycle } from '../components/lib/api';\nimport useHttp from '../components/hooks/use-http';\nimport Button from '../components/UI/Button';\nimport AuthContext from '../store/auth-context';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport classes from './Rent.module.css';\n\nconst Rent = (props) => {\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const [data, setData] = useState(null);\n  const [done, setDone] = useState(false);\n  const [rent, setRent] = useState(false);\n  const [one, setOne] = useState(false);\n  const [two, setTwo] = useState(false);\n\n  //   console.log(authCtx);\n\n  let { sendRequest, status, data: cycle, error } = useHttp(rentCycle, false);\n  const rentHandler = () => {\n    sendRequest({\n      token: authCtx.token,\n      cycleid: data,\n      userid: authCtx.userid,\n      role: authCtx.role,\n    });\n    if (!two) authCtx.addCycle(data);\n    // console.log(cycle);\n  };\n  useEffect(() => {\n    if (authCtx.role === 'admin') {\n      setOne(true);\n    }\n    if (authCtx.role === 'guard') {\n      setTwo(true);\n    }\n    if (localStorage.getItem('cycleid') === '') {\n      setRent(true);\n    }\n  }, [authCtx, authCtx.role]);\n  //   console.log({ user: localStorage.getItem('data') });\n  if (status === 'pending') {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered\">{error}</p>;\n  }\n  if (status === 'completed') {\n    return (\n      <div className=\"centered\">\n        <div>\n          <h1 className=\"centered\">\n            {two ? 'Cycle Returned' : 'Cycle Rented'}\n          </h1>\n        </div>\n        <div>\n          {two && (\n            <Button\n              click={() => {\n                history.go(0);\n              }}\n            >\n              Return Another Cycle\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  const ScanComplete = (props) => {\n    setData(props);\n    setDone(true);\n  };\n  return (\n    <div className={classes.body}>\n      {!one && !two && (\n        <div className={classes.comp}>\n          {!rent && (\n            <h1 className=\"centered\">You have already rented one Cycle</h1>\n          )}\n          {rent && (\n            <>\n              {!done && <Scanner scan={ScanComplete} />}\n              {data && <p className={classes.p}>{data}</p>}\n              {done && <Button click={rentHandler}>Rent</Button>}\n            </>\n          )}\n        </div>\n      )}\n      {two && (\n        <div className={classes.comp}>\n          {!done && <Scanner scan={ScanComplete} />}\n          {data && <p className={classes.p}>{data}</p>}\n          {done && <Button click={rentHandler}>Return</Button>}\n        </div>\n      )}\n      {one && !two && (\n        <div className={classes.comp}>\n          {!done && <Scanner scan={ScanComplete} />}\n          {data && <p className={classes.p}>{data}</p>}\n          {done && <Button click={rentHandler}>Admin</Button>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Rent;\n"]}}